<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Talk is cheap.Show me the code.">
<meta property="og:type" content="website">
<meta property="og:title" content="今天学习了吗">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="今天学习了吗">
<meta property="og:description" content="Talk is cheap.Show me the code.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="今天学习了吗">
<meta name="twitter:description" content="Talk is cheap.Show me the code.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>今天学习了吗</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">今天学习了吗</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/07/JavaScript常见题目汇总/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/JavaScript常见题目汇总/" itemprop="url">JavaScript常见题目汇总</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T17:43:09+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-请写出一个符合-W3C-规范的-HTML-文件，要求"><a href="#1-请写出一个符合-W3C-规范的-HTML-文件，要求" class="headerlink" title="1.请写出一个符合 W3C 规范的 HTML 文件，要求"></a>1.请写出一个符合 W3C 规范的 HTML 文件，要求</h3><p>页面标题为「我的页面」
页面中引入了一个外部 CSS 文件，文件路径为 /style.css
页面中引入了另一个外部 CSS 文件，路径为 /print.css，该文件仅在打印时生效
页面中引入了另一个外部 CSS 文件，路径为 /mobile.css，该文件仅在设备宽度小于 500 像素时生效
页面中引入了一个外部 JS 文件，路径为 /main.js
页面中引入了一个外部 JS 文件，路径为 /gbk.js，文件编码为 GBK
页面中有一个 SVG 标签，SVG 里面有一个直径为 100 像素的圆圈，颜色随意</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;/style.css&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; media=&quot;print&quot; href=&quot;/print.css&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; media=&quot;screen and (max-width: 500px)&quot; href=&quot;/mobile.css&quot;&gt;</span><br><span class="line">    &lt;title&gt;我的页面&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;svg version=&quot;1.1&quot;</span><br><span class="line">         baseProfile=&quot;full&quot;</span><br><span class="line">         width=&quot;200&quot; height=&quot;200&quot;&gt;</span><br><span class="line">      &lt;circle cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;100&quot; fill=&quot;green&quot; /&gt;</span><br><span class="line">    &lt;/svg&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;/main.js&quot;&gt;&lt;script&gt;</span><br><span class="line">    &lt;script src=&quot;/gbk.js&quot; charset=&quot;GBK&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-移动端是怎么做适配的？"><a href="#2-移动端是怎么做适配的？" class="headerlink" title="2.移动端是怎么做适配的？"></a>2.移动端是怎么做适配的？</h3><ol>
<li><p>使用<mtea name="viewport">
<meta>标签包含 <code>name</code>、 <code>content</code> 、 <code>http-equiv</code> 、 <code>charset</code> 、 <code>scheme</code> 五个属性，当 <code>name</code> 的值为 <code>viewport</code> 时可以使页面适应移动端设备，常用的meta viewport标签如下： <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1&quot;&gt;</code>
其中：
width：控制viewport宽度的大小，可以指定的一个值（或特殊值），如500，或device-width //特殊值
height：控制viewport宽度的大小，同上
initial-scale：控制页面第一次加载时的缩放比例
maximum-scale：允许用户缩放的最大比例
minimum-scale：允许用户缩放的最小比例
user-scalable：用户是否可以手动缩放</mtea></p>
</li>
<li><p>媒体查询
@media有四种媒体类型： <code>all</code> （适用于所有设备）、 <code>screen</code> （用于屏幕）、 <code>print</code> （用于打印设备）、<code>speech</code> （用于发声设备），默认情况下使用 <code>all</code> 类型</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    @media (max-width: 500px) &#123;</span><br><span class="line">        body &#123;</span><br><span class="line">            color: green;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>上述代码默认使用 <code>all</code> 类型，当窗口小于500px时，字体颜色会变成原谅色</p>
<ol>
<li>使用动态 rem </li>
</ol>
<p>rem代表根元素的 <code>font-size</code> 的大小，当设置元素的 <code>font-size</code> 为1rem时，就表示该元素的字体大小为根元素字体大小的1倍，2rem就为根元素字体大小的2倍…以此类推；同时也可以通过修改根元素的字体大小来改变元素字体的大小。
使用rem可以成比例地修改元素的字体大小，还可以避免添加的字体样式与继承来的样式相冲突。</p>
<h3 id="3-用过CSS3吗-实现圆角矩形和阴影怎么做"><a href="#3-用过CSS3吗-实现圆角矩形和阴影怎么做" class="headerlink" title="3.用过CSS3吗? 实现圆角矩形和阴影怎么做?"></a>3.用过CSS3吗? 实现圆角矩形和阴影怎么做?</h3><ul>
<li><p>实现圆角： 使用 <code>border-radius</code> 
  例：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px</span><br><span class="line">    border: 1px solid green;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>border-radius</code> 接受px、em、rem等等单位的值
<code>border-radius</code> 接受1-4个值：
  1个值：四个角都为同一个值
  2个值：左上角和右下角使用第一个值，右上角和左下角使用第二个值
  3个值：左上角使用第一个值，右上、左下使用第二个值，右下角使用第三个值
  4个值：从左上起顺时针使用1-4个值
<code>border-top-left-radius</code> 、 <code>border-top-right-radius</code> 、 <code>border-bottom-right-radius</code> 、 <code>border-bottom-left-radius</code> 分别表示四个角，可以单独设置样式</p>
<ul>
<li><p>实现阴影：使用 <code>box-shadow</code> </p>
<p> 例：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border: 1px solid green;</span><br><span class="line">    box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <code>box-shadow</code> 有五个值： <code>inset</code>（阴影默认在边框之外，使用inset则在边框内） 、 <code>&lt;offset-x&gt;/&lt;offset-y&gt;</code> （设置阴影偏移量，x表示水平偏移，y表示垂直偏移，可以有负值）、 <code>&lt;blur-radius&gt;</code> （此值越大，模糊面积越大，阴影越淡）、 <code>&lt;spread-radius&gt;</code> （默认为0，正值时，阴影扩大；负值时，阴影缩小）、 <code>&lt;color&gt;</code> （设置阴影颜色） </p>
</li>
</ul>
</li>
</ul>
<h3 id="4-什么是闭包，闭包的用途是什么？"><a href="#4-什么是闭包，闭包的用途是什么？" class="headerlink" title="4.什么是闭包，闭包的用途是什么？"></a>4.什么是闭包，闭包的用途是什么？</h3><ul>
<li>闭包是由函数和与其相关的引用环境组合而成的实体（<a href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener">wikipedia</a>)）
闭包由两部分组成：一是函数，二是与这个函数相关的引用环境，即函数及函数内部能访问到的变量组成了一个闭包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">    showName()</span><br><span class="line">&#125;)() //小明</span><br></pre></td></tr></table></figure>
<p>函数fn是一个立即执行函数，变量 <code>name</code> 和函数 <code>showName()</code> 就组成了一个闭包，这里变量 <code>name</code> 所在的上下文就是上文所说的引用环境。
对上面的立即执行函数做一点改动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    return function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var yourName = fn()</span><br><span class="line">yourName()</span><br></pre></td></tr></table></figure>
<p>代码改动后，我们不在函数fn内部调用函数showName()，而是将showName()函数作为fn函数的返回值返回出来，同时，我们在函数外定义了一个变量yourName来引用函数fn()，因此yourName执行时就相当于fn()被调用，而showName()函数一样需要调用其外部的变量name，因此函数showName()和变量name就组成了一个闭包。
上述代码中，函数fn()只是为了创建出局部变量name，如果没有fn()则变量name就成为了全局变量，那么其他的函数都可以访问到name，闭包就失去了存在的意义；而 <code>return function showName()</code> 则是为了能在函数fn()外部使用函数showName()</p>
<ul>
<li>闭包的作用</li>
</ul>
<p>闭包可以间接的访问一个变量，也就是可以使一个函数访问到另一个函数内部的变量。</p>
<h3 id="5-call、apply、bind-的用法分别是什么？"><a href="#5-call、apply、bind-的用法分别是什么？" class="headerlink" title="5.call、apply、bind 的用法分别是什么？"></a>5.call、apply、bind 的用法分别是什么？</h3><ul>
<li>call()方法调用一个函数, 其具有一个指定的this值和分别地提供的参数(参数的列表)。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.call(thisArg, arg1, arg2, ...)</span><br></pre></td></tr></table></figure>
<ul>
<li>apply()方法调用一个函数, 其具有一个指定的this值，以及作为一个数组（或类似数组的对象）提供的参数。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.apply(thisArg[, argsArray])</span><br></pre></td></tr></table></figure>
<ul>
<li>bind()方法创建一个新的函数, 当被调用时，将其this关键字设置为提供的值，在调用新函数时，在任何提供之前提供一个给定的参数序列。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.bind(thisArg[, arg1[, arg2[, ...]]])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>call()和apply()用法相同，都是调用函数，唯一的不同是call()方法从第二个参数开始一个一个的提供参数，而apply()方法的第二个参数是一个数组，数组内存放需要提供的参数。</p>
</li>
<li><p>bind()方法用于创建函数，bind()方法的第一个参数就是要绑定的函数，当调用 <code>func</code> 时，this就会指向 <code>thisArg</code> 。</p>
</li>
</ul>
<h3 id="6-请说出至少-8-个-HTTP-状态码，并描述各状态码的意义。"><a href="#6-请说出至少-8-个-HTTP-状态码，并描述各状态码的意义。" class="headerlink" title="6.请说出至少 8 个 HTTP 状态码，并描述各状态码的意义。"></a>6.请说出至少 8 个 HTTP 状态码，并描述各状态码的意义。</h3><p>状态码2xx代表请求成功</p>
<ul>
<li><p>200表示请求成功，服务器会返回数据</p>
</li>
<li><p>204表示请求成功，但没有返回内容</p>
</li>
</ul>
<p>状态码3xx代表重定向，需要进一步的操作才能完成请求</p>
<ul>
<li><p>301表示永久重定向，意味着资源已经搬移到其他地方</p>
</li>
<li><p>302表示临时重定向，意味着资源临时搬移到其他地方</p>
</li>
</ul>
<p>状态码4xx表示客户端错误</p>
<ul>
<li><p>403表示请求访问服务器资源但是被拒绝</p>
</li>
<li><p>404表示服务器找不到请求的资源（很常见的请求错误）</p>
</li>
</ul>
<p>状态码5xx表示服务器错误</p>
<ul>
<li><p>500表示服务器执行请求时出错</p>
</li>
<li><p>503表示服务器超负载或正停机维护，无法处理请求</p>
</li>
</ul>
<h3 id="7-请写出一个-HTTP-post-请求的内容，包括四部分。"><a href="#7-请写出一个-HTTP-post-请求的内容，包括四部分。" class="headerlink" title="7.请写出一个 HTTP post 请求的内容，包括四部分。"></a>7.请写出一个 HTTP post 请求的内容，包括四部分。</h3><p>其中
第四部分的内容是 username=ff&amp;password=123
第二部分必须含有 Content-Type 字段
请求的路径为 /path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; POST /path HTTP/1.1</span><br><span class="line">&gt; Host: www.baidu.com</span><br><span class="line">&gt; User-Agent: curl/7.52.1</span><br><span class="line">&gt; Accept: */*</span><br><span class="line">&gt; Content-Length: 23</span><br><span class="line">&gt; Content-Type: application/x-www-form-urlencoded</span><br><span class="line">&gt; </span><br><span class="line">* upload completely sent off: 23 out of 23 bytes</span><br><span class="line">&gt; usrname=ff&amp;password=123</span><br></pre></td></tr></table></figure>
<h3 id="8-请说出至少三种排序的思路，这三种排序的时间复杂度分别为"><a href="#8-请说出至少三种排序的思路，这三种排序的时间复杂度分别为" class="headerlink" title="8.请说出至少三种排序的思路，这三种排序的时间复杂度分别为"></a>8.请说出至少三种排序的思路，这三种排序的时间复杂度分别为</h3><ol>
<li>O(n*n)</li>
<li>O(n log2 n)</li>
<li>O(n + max)</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/06/对于闭包的理解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/06/对于闭包的理解/" itemprop="url">对于闭包的理解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-06T21:35:42+08:00">
                2018-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>闭包是由函数和与其相关的引用环境组合而成的实体（<a href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener">wikipedia-闭包</a>)）</p>
</blockquote>
<p>闭包由两部分组成：一是函数，二是与这个函数相关的引用环境，即函数及函数内部能访问到的变量组成了一个闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">    showName()</span><br><span class="line">&#125;)() //小明</span><br></pre></td></tr></table></figure>
<p>函数fn是一个立即执行函数，变量 <code>name</code> 和函数 <code>showName()</code> 就组成了一个闭包，这里变量 <code>name</code> 所在的上下文就是上文所说的引用环境。
对上面的立即执行函数做一点改动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    return function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var yourName = fn()</span><br><span class="line">yourName()</span><br></pre></td></tr></table></figure>
<p>代码改动后，我们不在函数fn内部调用函数showName()，而是将showName()函数作为fn函数的返回值返回出来，同时，我们在函数外定义了一个变量yourName来引用函数fn()，因此yourName执行时就相当于fn()被调用，而showName()函数一样需要调用其外部的变量name，因此函数showName()和变量name就组成了一个闭包。</p>
<ul>
<li>闭包的作用
闭包可以间接的访问一个变量，也就是可以使一个函数访问到另一个函数内部的变量。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/06/JavaScript练习题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/06/JavaScript练习题/" itemprop="url">JavaScript练习题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-06T16:18:11+08:00">
                2018-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>写一个函数，返回从min到max之间的 随机整数，包括min不包括max </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function random(min,max)&#123;</span><br><span class="line">    var val = min + (Math.floor(Math.random() * (max-min)))</span><br><span class="line">    return val</span><br><span class="line">&#125;</span><br><span class="line">var result = random(3,10)</span><br><span class="line">console.log(result)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，生成一个长度为 n 的随机字符串，字符串字符的取值范围包括0到9，a到 z，A到Z</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getRandStr(len)&#123;</span><br><span class="line">    var result = &apos;&apos;</span><br><span class="line">    var dict = &apos;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&apos;</span><br><span class="line">    for(var i=0; i&lt;len; i++)&#123;</span><br><span class="line">    var index = Math.floor(Math.random() * dict.length)</span><br><span class="line">    result += dict[index]</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br><span class="line">var str = getRandStr(10); // 0a3iJiRZap</span><br><span class="line">console.log(str)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，生成一个随机 IP 地址，一个合法的 IP 地址为 0.0.0.0~255.255.255.255</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function getRandIP()&#123;</span><br><span class="line">  var randomIP = []</span><br><span class="line">  for(var i = 0; i &lt; 4; i++)&#123;</span><br><span class="line">    var eachIP = Math.floor(Math.random() * 256)</span><br><span class="line">    randomIP.push(eachIP)</span><br><span class="line">  &#125;</span><br><span class="line">  return randomIP.join(&apos;.&apos;)</span><br><span class="line">&#125;</span><br><span class="line">var ip = getRandIP()</span><br><span class="line">console.log(ip) // 10.234.121.45</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，生成一个随机颜色字符串，合法的颜色为#000000~ #ffffff</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getRandColor()&#123;</span><br><span class="line">  var rgbColor = &apos;#&apos;</span><br><span class="line">  var dict = &apos;0123456789abcdef&apos; </span><br><span class="line">  for(var i = 0; i&lt;6; i++)&#123;</span><br><span class="line">    var index = Math.floor(Math.random() * 16)</span><br><span class="line">    rgbColor += dict[index]</span><br><span class="line">  &#125;</span><br><span class="line">  return rgbColor</span><br><span class="line">&#125;</span><br><span class="line">var color = getRandColor()</span><br><span class="line">console.log(color)   // #3e2f1b</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现一个flatten函数，将一个嵌套多层的数组 array（数组） (嵌套可以是任何层数)转换为只有一层的数组，数组中元素仅基本类型的元素或数组，不存在循环引用的情况</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">//写法一</span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">  var arr2 = []</span><br><span class="line">  for(var i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">    if(Array.isArray(arr[i]))&#123;</span><br><span class="line">      arr2 = arr2.concat(flatten(arr[i]))</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      arr2.push(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [1, 2, 6, [&apos;hello&apos;, 9, [&apos;yyy&apos;, [&apos;wasd&apos;, 789, 123]], 7], [&apos;uiuiui&apos;, 5, 6], &apos;qwer&apos;]</span><br><span class="line">var flat = flatten(arr)</span><br><span class="line">console.log(flat)</span><br><span class="line"></span><br><span class="line">//写法二</span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">  var arr2 = []</span><br><span class="line">  arr.forEach(function(val)&#123;</span><br><span class="line">    if(Array.isArray(val))&#123;</span><br><span class="line">      arr2 = arr2.concat(flatten(val))</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      arr2.push(val)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [1, 2, 6, [&apos;hello&apos;, 9, [&apos;yyy&apos;, [&apos;wasd&apos;, 789, 123]], 7], [&apos;uiuiui&apos;, 5, 6], &apos;qwer&apos;]</span><br><span class="line">var flat = flatten(arr)</span><br><span class="line">console.log(flat)</span><br><span class="line"></span><br><span class="line">//写法三</span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">  return arr.reduce(function(initArr,currentArr)&#123;</span><br><span class="line">    return initArr.concat(Array.isArray(currentArr)?flatten(currentArr):currentArr)</span><br><span class="line">  &#125;,[])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [1, 2, 6, [&apos;hello&apos;, 9, [&apos;yyy&apos;, [&apos;wasd&apos;, 789, 123]], 7], [&apos;uiuiui&apos;, 5, 6], &apos;qwer&apos;]</span><br><span class="line">var flat = flatten(arr)</span><br><span class="line">console.log(flat)</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现一个reduce函数，作用和原生的reduce类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//写法一</span><br><span class="line">function reduce(arr, fn, init)&#123;</span><br><span class="line">  var arr2 = arr.concat([])</span><br><span class="line">  if(init !== undefined)&#123;</span><br><span class="line">    arr2.unshift(init)</span><br><span class="line">  &#125;</span><br><span class="line">  while(arr2.length &gt; 1)&#123;</span><br><span class="line">    arr2.splice(0, 2, fn(arr2[0], arr2[1]))</span><br><span class="line">  &#125;</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var sum = reduce([1, 2, 3], function(memo, num)&#123; return memo + num; &#125;, 0);</span><br><span class="line">console.log(sum)</span><br><span class="line">//写法二</span><br><span class="line">function reduce(arr, fn, init)&#123;</span><br><span class="line">  var arr2 = (init !== undefined?[]:[init]).concat(arr)</span><br><span class="line">  while(arr2.length &gt; 1)&#123;</span><br><span class="line">    arr2.splice(0, 2, fn(arr2[0], arr2[1]))</span><br><span class="line">  &#125;</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var sum = reduce([1, 2, 3], function(memo, num)&#123; return memo + num; &#125;, 0);</span><br><span class="line">console.log(sum)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数getChIntv，获取从当前时间到指定日期的间隔时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getChIntv(initDate)&#123;</span><br><span class="line">  var time = Date.now() - Date.parse(initDate)</span><br><span class="line">  return time</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var str = getChIntv(&quot;2017-02-08 10:30:24&quot;);</span><br><span class="line">console.log(str);</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，参数为时间对象毫秒数的字符串格式，返回值为字符串。假设参数为时间对象毫秒数t，根据t的时间分别返回如下字符串:</p>
</li>
</ol>
<ul>
<li>刚刚（ t 距当前时间不到1分钟时间间隔）</li>
<li>3分钟前 (t距当前时间大于等于1分钟，小于1小时)</li>
<li>8小时前 (t 距离当前时间大于等于1小时，小于24小时)</li>
<li>3天前 (t 距离当前时间大于等于24小时，小于30天)</li>
<li>2个月前 (t 距离当前时间大于等于30天小于12个月)</li>
<li>8年前 (t 距离当前时间大于等于12个月)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function friendlyDate(time)&#123;</span><br><span class="line">  var timeNum = parseInt(time)</span><br><span class="line">  var millieSecond = Date.now() - timeNum</span><br><span class="line">  console.log(millieSecond)</span><br><span class="line">  switch(true)&#123;</span><br><span class="line">    case millieSecond &lt; 60*1000 :</span><br><span class="line">      time = &apos;刚刚&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 60*1000 &lt;= millieSecond &amp;&amp; millieSecond &lt; 60*60*1000 :</span><br><span class="line">      time = &apos;3分钟前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 60*60*1000 &lt;= millieSecond &amp;&amp; millieSecond &lt; 24*60*60*1000 :</span><br><span class="line">      time = &apos;8小时前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 24*60*60*1000 &lt;= millieSecond &amp;&amp; millieSecond &lt; 24*60*60*1000*30 :</span><br><span class="line">      time = &apos;3天前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 24*60*60*1000*30 &lt;= millieSecond &amp;&amp; millieSecond &lt; 24*60*60*1000*30*12 :</span><br><span class="line">      time = &apos;2个月前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 24*60*60*1000*30*12 &lt;= millieSecond :</span><br><span class="line">      time = &apos;8年前&apos;</span><br><span class="line">      break;</span><br><span class="line">  &#125;</span><br><span class="line">  return time</span><br><span class="line">&#125;</span><br><span class="line">var str = friendlyDate( &apos;1484286699422&apos; ) //  2个月前</span><br><span class="line">var str2 = friendlyDate(&apos;1483941245793&apos;) // 8年前</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/05/DOM事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/05/DOM事件/" itemprop="url">DOM事件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-05T21:41:13+08:00">
                2018-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/03/用jQuery做个轮播/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/03/用jQuery做个轮播/" itemprop="url">用jQuery做个轮播</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-03T10:57:18+08:00">
                2018-03-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文的主要内容是使用jQuery实现轮播的思路及过程</p>
</blockquote>
<h3 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1. 准备工作"></a>1. 准备工作</h3><p>首先准备好五张（随便几张只要不是一张就行）尺寸合适的图片，在html中用一个div表示视窗，其内用一个div放置准备好的图片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;viewport&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;images&quot;&gt;</span><br><span class="line">      &lt;img src=&quot;https://i2.wp.com/waggintailacademy.com/wp-content/uploads/2016/10/Natural-Dog-Law-5-Dogs-are-social-pack-animals.jpg?fit=845%2C450&quot; alt=&quot;&quot; class=&quot;img1&quot; width=400px&gt;</span><br><span class="line">      &lt;img src=&quot;https://bullyfambamblog.files.wordpress.com/2017/03/top-rated-treats-featured-image.jpg?w=845&amp;h=450&amp;crop=1&quot; alt=&quot;&quot; class=&quot;img2&quot; width=400px&gt;</span><br><span class="line">      &lt;img src=&quot;https://pressraffles.files.wordpress.com/2017/02/picture11.png?w=845&amp;h=450&amp;crop=1&quot; alt=&quot;&quot; class=&quot;img3&quot; width=400px&gt;</span><br><span class="line">      &lt;img src=&quot;https://i0.wp.com/kcpetcollective.com/wp-content/uploads/2017/08/wesley_onelight_couch.png?resize=845%2C450&amp;ssl=1&quot; alt=&quot;&quot; class=&quot;img4&quot; width=400px&gt;</span><br><span class="line">      &lt;img src=&quot;https://i0.wp.com/petperfectiontoowoomba.com/wp-content/uploads/2017/10/A-place-of-their-own-What-to-look-for-in-dog-beds-1.jpg?fit=845%2C450&quot; alt=&quot;&quot; class=&quot;img5&quot; width=400px&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;button id=&quot;button1&quot;&gt;第1张&lt;/button&gt;</span><br><span class="line">  &lt;button id=&quot;button2&quot;&gt;第2张&lt;/button&gt;</span><br><span class="line">  &lt;button id=&quot;button3&quot;&gt;第3张&lt;/button&gt;</span><br><span class="line">  &lt;button id=&quot;button4&quot;&gt;第4张&lt;/button&gt;</span><br><span class="line">  &lt;button id=&quot;button5&quot;&gt;第5张&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p>这里为每张图片设置了合适的宽度，并且添加五个button方便选取。
然后为图片添加CSS：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.viewport &#123;</span><br><span class="line">  width: 400px;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.images &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: flex-start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>添加完样式的效果如下图：
<img src="https://i.loli.net/2018/03/03/5a9a56d3375f9.png" alt=""></p>
<h3 id="2-添加JS"><a href="#2-添加JS" class="headerlink" title="2. 添加JS"></a>2. 添加JS</h3><p>首先用简单的方式实现图片的切换效果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$(button1).on(&apos;click&apos;, function()&#123;</span><br><span class="line">  $(&apos;.images&apos;).css(&#123;</span><br><span class="line">    &apos;margin-left&apos;: &apos;0&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(button2).on(&apos;click&apos;, function()&#123;</span><br><span class="line">  $(&apos;.images&apos;).css(&#123;</span><br><span class="line">    &apos;margin-left&apos;: &apos;-400px&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(button3).on(&apos;click&apos;, function()&#123;</span><br><span class="line">  $(&apos;.images&apos;).css(&#123;</span><br><span class="line">    &apos;margin-left&apos;: &apos;-800px&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(button4).on(&apos;click&apos;, function()&#123;</span><br><span class="line">  $(&apos;.images&apos;).css(&#123;</span><br><span class="line">    &apos;margin-left&apos;: &apos;-1200px&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(button5).on(&apos;click&apos;, function()&#123;</span><br><span class="line">  $(&apos;.images&apos;).css(&#123;</span><br><span class="line">    &apos;margin-left&apos;: &apos;-1600px&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这里通过JS在点击相应button的时候对 <figure class="highlight plain"><figcaption><span>``` 的 ``` margin-left ``` 属性进行修改，实现图片的切换效果。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 3. 改进实现方式</span><br><span class="line"></span><br><span class="line">上文中的实现方式虽然是最容易想到的方式，同时也可以完成点击按钮切换图片的功能，但是这种实现方式有很多不足之处，首先如果轮播的图片很多就需要写出很多的重复代码，其次这种简单的方法并不能实现无限轮播，因此我们采用另一种方式实现基本功能。</span><br></pre></td></tr></table></figure></p>
<p>  <div class="buttons">
    <button id="button1">第1张</button>
    <button id="button2">第2张</button>
    <button id="button3">第3张</button>
    <button id="button4">第4张</button>
    <button id="button5">第5张</button>
  </div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在html中用div将全部button包裹起来</span><br></pre></td></tr></table></figure></p>
<p>let allButtons = $(‘.buttons &gt; button’)</p>
<p>for(let i = 0; i &lt; allButtons.length; i++){
  $(allButtons[i]).on(‘click’, function(e){
    let index = $(e.currentTarget).index()
    let distance = index * -400
    $(‘.images’).css({
      ‘margin-left’: distance + ‘px’
    })
  })
}
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在JS中通过jQuery选中元素并通过 ``` .index() ``` 确定被点击的button的下标，通过下标就可以确认images所需要移动的距离。</span><br><span class="line"></span><br><span class="line">### 4. 实现自动播放</span><br><span class="line"></span><br><span class="line">第三步中已经改进了切换图片的实现方式，不用担心轮播图片的数量，接下来实现自动播放功能。</span><br></pre></td></tr></table></figure></p>
<p>let n = 0
setInterval(()=&gt;{
  allButtons.eq(n%5).trigger(‘click’)
  n += 1
}, 1500)
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用 ``` setInterval ``` 定时器，通过 ``` .eq(n%5) ``` 选中图片（分别为0,1,2,3,4,0,1,2，...），每隔1.5秒使用 ``` trigger(&apos;click&apos;) ``` 模拟click事件，由此来实现自动播放功能。</span><br><span class="line"></span><br><span class="line">### 5. 优化自动播放</span><br><span class="line"></span><br><span class="line">接上一步，虽然已经实现了自动播放的基本功能，但是仍有许多优化的空间。</span><br></pre></td></tr></table></figure></p>
<p>let n = 0
let count = $(‘.images &gt; img’).length
allButtons.eq(n%count).trigger(‘click’).addClass(‘active’).siblings(‘.active’).removeClass(‘active’)
setInterval(()=&gt;{
  allButtons.eq(n%count).trigger(‘click’).addClass(‘active’).siblings(‘.active’).removeClass(‘active’)
  n += 1
}, 1500)
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">声明一个count变量获取图片的数量，然后为当前展示的图片相应的button添加 ``` active ``` 样式并清除其他button的样式。</span><br><span class="line"></span><br><span class="line">### 6. 实现暂停、播放功能</span><br><span class="line"></span><br><span class="line">通常对于一个轮播来说，光标悬浮在图片上停止播放，光标离开图片继续播放是基本功能，因此此部分实现轮播的暂停、播放功能。</span><br></pre></td></tr></table></figure></p>
<p>$(‘.viewport’).on(‘mouseenter’, function(){
  window.clearInterval(clockId)
})
$(‘.viewport’).on(‘mouseleave’, function(){
  clockId = setInterval(()=&gt;{
    n += 1
    allButtons.eq(n%count).trigger(‘click’).addClass(‘active’).siblings(‘.active’).removeClass(‘active’)
}, 1500)
})
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">如此一来，一个简单的轮播就完成了。</span><br><span class="line"></span><br><span class="line">### 7. 代码优化</span><br><span class="line"></span><br><span class="line">上述的代码还有很多可以优化的空间，有很多重复的代码可以使用函数来封装。</span><br></pre></td></tr></table></figure></p>
<p>let allButtons = $(‘.buttons &gt; button’)</p>
<p>for(let i = 0; i &lt; allButtons.length; i++){
  $(allButtons[i]).on(‘click’, function(e){
    let index = $(e.currentTarget).index()
    let distance = index * -400
    $(‘.images’).css({
      ‘margin-left’: distance + ‘px’
    })
    n = index
    activeButton(allButtons.eq(n))
  })
}
let n = 0
let count = $(‘.images &gt; img’).length
slideImg(n%count)
let clockId = setClock()</p>
<p>function setClock(){
  return setInterval(()=&gt;{
    n += 1
    slideImg(n%count)
  }, 1500)
}
function slideImg(index){
  allButtons.eq(index).trigger(‘click’)
}
function activeButton($button){
  $button.addClass(‘active’).siblings(‘.active’).removeClass(‘active’)
}</p>
<p>$(‘.viewport’).on(‘mouseenter’, function(){
  window.clearInterval(clockId)
})
$(‘.viewport’).on(‘mouseleave’, function(){
  clockId = setClock()
})
```</p>
<p>上面的代码已经进行了一部分优化，封装出 <code>setClock()</code> 函数、 <code>slideImg()</code> 函数和 <code>activeButton</code> 函数，避免了代码的重复。</p>
<h3 id="8-总结"><a href="#8-总结" class="headerlink" title="8. 总结"></a>8. 总结</h3><p>本文使用jQuery实现轮播的思路如下：
1. 首先找到对应的按钮，监听按钮的click事件，并添加相应的样式
2. 设置一个定时器，使得图片循环滚动
3. 使用trigger()模拟click事件
4. 监听视窗的mouseenter事件，清除定时器，实现光标悬浮暂停播放功能
5. 监听视窗的mouseleave事件，添加定时器，实现光标离开继续播放播放功能</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/27/实现jQuery中的API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/27/实现jQuery中的API/" itemprop="url">实现jQuery中的API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-27T10:48:57+08:00">
                2018-02-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文记录手写实现jQuery的两个API-getSiblings及addClass的思路及过程</p>
</blockquote>
<h3 id="1-使用原生JS实现getSiblings和addClass的功能"><a href="#1-使用原生JS实现getSiblings和addClass的功能" class="headerlink" title="1. 使用原生JS实现getSiblings和addClass的功能"></a>1. 使用原生JS实现getSiblings和addClass的功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li id=&quot;item1&quot;&gt;选项1&lt;/li&gt;</span><br><span class="line">    &lt;li id=&quot;item2&quot;&gt;选项2&lt;/li&gt;</span><br><span class="line">    &lt;li id=&quot;item3&quot;&gt;选项3&lt;/li&gt;</span><br><span class="line">    &lt;li id=&quot;item4&quot;&gt;选项4&lt;/li&gt;</span><br><span class="line">    &lt;li id=&quot;item5&quot;&gt;选项5&lt;/li&gt;</span><br><span class="line">    &lt;li id=&quot;item6&quot;&gt;选项6&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>实现getSiblings功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//获取item3的兄弟元素</span><br><span class="line">let allChildren = item3.parentNode.children </span><br><span class="line">let array = &#123;length: 0&#125;</span><br><span class="line">for(let i = 0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">  if(allChildren[i] !== item3)&#123;</span><br><span class="line">    array[array.length] = allChildren[i]</span><br><span class="line">    array.length += 1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(array)</span><br><span class="line">// &#123;0: li#item1, 1: li#item2, 2: li#item4, 3: li#item5, 4: li#item6, length: 5&#125;</span><br><span class="line">// 0:li#item1</span><br><span class="line">// 1:li#item2</span><br><span class="line">// 2:li#item4</span><br><span class="line">// 3:li#item5</span><br><span class="line">// 4:li#item6</span><br><span class="line">// length:5</span><br><span class="line">// __proto__:Object</span><br></pre></td></tr></table></figure>
<p>实现addClass功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let classes = &#123;&apos;a&apos;: true, &apos;b&apos;: false, &apos;c&apos;: true&#125; // 用一个哈希表示class是否存在</span><br><span class="line">for(let key in classes)&#123;</span><br><span class="line">  let value = classes[key]</span><br><span class="line">  // 给item3添加或移除class</span><br><span class="line">  if(value)&#123;</span><br><span class="line">    item3.classList.add(key)</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    item3.classList.remove(key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-封装原生代码"><a href="#2-封装原生代码" class="headerlink" title="2. 封装原生代码"></a>2. 封装原生代码</h3><p>封装getSiblings函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getSiblings(node)&#123;</span><br><span class="line">  let allChildren = node.parentNode.children </span><br><span class="line">  let array = &#123;length: 0&#125;</span><br><span class="line">  for(let i = 0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">    if(allChildren[i] !== node)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array</span><br><span class="line">&#125;</span><br><span class="line">getSiblings(item3)</span><br></pre></td></tr></table></figure>
<p>封装addClass函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function addClass(node, classes)&#123;</span><br><span class="line">  for(let key in classes)&#123;</span><br><span class="line">    let value = classes[key]</span><br><span class="line">    let methodName = value ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">      node.classList[methodName](key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">addClass(item3, &#123;&apos;a&apos;: true, &apos;b&apos;: false, &apos;c&apos;: true&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="3-命名空间"><a href="#3-命名空间" class="headerlink" title="3. 命名空间"></a>3. 命名空间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function getSiblings(node)&#123;</span><br><span class="line">  let allChildren = node.parentNode.children </span><br><span class="line">  let array = &#123;length: 0&#125;</span><br><span class="line">  for(let i = 0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">    if(allChildren[i] !== node)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function addClass(node, classes)&#123;</span><br><span class="line">  for(let key in classes)&#123;</span><br><span class="line">    let value = classes[key]</span><br><span class="line">    let methodName = value ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">      node.classList[methodName](key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.newDOM = &#123;&#125;</span><br><span class="line">newDOM.getSiblings = getSiblings</span><br><span class="line">newDOM.addClass = addClass</span><br><span class="line"></span><br><span class="line">newDOM.getSiblings(item3)</span><br><span class="line">newDOM.addClass(item3, &#123;&apos;a&apos;: true, &apos;b&apos;: false, &apos;c&apos;: true&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="4-改写"><a href="#4-改写" class="headerlink" title="4. 改写"></a>4. 改写</h3><p>方法1：修改Node原型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Node.prototype.getSiblings = function()&#123;</span><br><span class="line">  let allChildren = this.parentNode.children</span><br><span class="line">  let array = &#123;length: 0&#125;</span><br><span class="line">  for(let i = 0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">    if(allChildren[i] !== this)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">item3.getSiblings()</span><br></pre></td></tr></table></figure>
<p>为Node.prototype添加getSiblings方法，在函数内使用this获取指定的item，addClass方法同上
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Node.prototype.addClass = function(classes)&#123;</span><br><span class="line">  for(let key in classes)&#123;</span><br><span class="line">    let value = classes[key]</span><br><span class="line">    let methodName = value ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">      this.classList[methodName](key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">item3.addClass(&#123;&apos;a&apos;: true, &apos;b&apos;: false&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="5-避免覆盖相同名称的已有方法"><a href="#5-避免覆盖相同名称的已有方法" class="headerlink" title="5. 避免覆盖相同名称的已有方法"></a>5. 避免覆盖相同名称的已有方法</h3><p>如上文所述，我们已经对getSiblings方法和addClass方法进行了封装并且修改了Node的原型，但是为了避免Node原型中已经存在相同名称的方法，我们重写一个Node2原型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">window.Node2 = function(node)&#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    getSiblings: function()&#123;</span><br><span class="line">      let allChildren = node.parentNode.children </span><br><span class="line">      let array = &#123;length: 0&#125;</span><br><span class="line">      for(let i = 0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">        if(allChildren[i] !== node)&#123;</span><br><span class="line">          array[array.length] = allChildren[i]</span><br><span class="line">          array.length += 1</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return array</span><br><span class="line">    &#125;,</span><br><span class="line">    addClass: function(classes)&#123;</span><br><span class="line">      for(let key in classes)&#123;</span><br><span class="line">        let value = classes[key]</span><br><span class="line">        let methodName = value ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">        node.classList[methodName](key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var node2 = Node2(item3)</span><br><span class="line">node2.getSiblings()</span><br><span class="line">node2.addClass(&#123;&apos;a&apos;: true, &apos;b&apos;: false, &apos;c&apos;: true&#125;)</span><br></pre></td></tr></table></figure>
<p>需要注意的是，我们在改写的过程中在函数内使用了this来获取item3，但在重写出的Node2中我们声明了一个变量使用Node2构造函数，并把item3作为参数传入，因此函数内只需使用参数node。</p>
<h3 id="6-添加选择器功能"><a href="#6-添加选择器功能" class="headerlink" title="6. 添加选择器功能"></a>6. 添加选择器功能</h3><p>上文中的Node2在使用的过程中只能接受用户传入一个节点，因此需要对Node2进行改进</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">  let node</span><br><span class="line">  if(typeof nodeOrSelector === &apos;string&apos;)&#123;</span><br><span class="line">    node = document.querySelector(nodeOrSelector)</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    node = nodeOrSelector</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;</span><br><span class="line">    getSiblings: function()&#123;</span><br><span class="line">      let allChildren = node.parentNode.children </span><br><span class="line">      let array = &#123;length: 0&#125;</span><br><span class="line">      for(let i = 0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">        if(allChildren[i] !== node)&#123;</span><br><span class="line">          array[array.length] = allChildren[i]</span><br><span class="line">          array.length += 1</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return array</span><br><span class="line">    &#125;,</span><br><span class="line">    addClass: function(classes)&#123;</span><br><span class="line">      for(let key in classes)&#123;</span><br><span class="line">        let value = classes[key]</span><br><span class="line">        let methodName = value ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">        node.classList[methodName](key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var nodeItem = jQuery(&apos;#item3&apos;)</span><br><span class="line">nodeItem.getSiblings()</span><br><span class="line">nodeItem.addClass(&#123;&apos;a&apos;: true, &apos;b&apos;: false, &apos;c&apos;: true&#125;)</span><br></pre></td></tr></table></figure>
<p>改进过程中首先函数的名称进行了修改，并不影响功能的实现，然后给函数添加判断条件，使得用户传入的节点及选择器都可以使用，在这个过程中node和getSiblings函数、addClass函数构成了闭包。</p>
<h3 id="7-多个选择器"><a href="#7-多个选择器" class="headerlink" title="7. 多个选择器"></a>7. 多个选择器</h3><p>上文中的选择器只能选择一个节点，如果用户想要一次选择多个节点，则需要继续进行改进</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">  let nodes = &#123;&#125;</span><br><span class="line">  if(typeof nodeOrSelector === &apos;string&apos;)&#123;</span><br><span class="line">    let temp = document.querySelectorAll(nodeOrSelector)</span><br><span class="line">    for(let i = 0; i &lt; temp.length; i++)&#123;</span><br><span class="line">      nodes[i] = temp[i]</span><br><span class="line">    &#125;</span><br><span class="line">    nodes.length = temp.length</span><br><span class="line">  &#125;else if(nodeOrSelector instanceof Node)&#123;</span><br><span class="line">    nodes = &#123;0: nodeOrSelector, length: 1&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  nodes.addClass = function(classes)&#123;</span><br><span class="line">    for(let key in classes)&#123;</span><br><span class="line">      let value = classes[key]</span><br><span class="line">      let methodName = value ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">      for(let i = 0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">        nodes[i].classList[methodName](key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  nodes.text = function(text)&#123;</span><br><span class="line">    if(text === undefined)&#123;</span><br><span class="line">      let texts = []</span><br><span class="line">      for(let i = 0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">        texts.push(nodes[i].textContent)</span><br><span class="line">      &#125;</span><br><span class="line">      return texts</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      for(let i = 0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">        nodes[i].textContent = text</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return nodes</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var nodeItem = jQuery(&apos;ul &gt; li&apos;)</span><br><span class="line">nodeItem.addClass(&#123;&apos;a&apos;: true, &apos;b&apos;: false, &apos;c&apos;: true&#125;)</span><br><span class="line">console.log(nodeItem.text())</span><br><span class="line">nodeItem.text(&apos;hi&apos;)</span><br></pre></td></tr></table></figure>
<p>本次修改允许用户通过 <code>ul &gt; li</code> 选择多个节点，返回的nodes为一个伪数组，同时添加一个新的text()方法，在text()方法的参数为空时，获取节点的文本；在text()方法的参数不为空时，设置所有选中节点的text</p>
<h3 id="8-总结"><a href="#8-总结" class="headerlink" title="8. 总结"></a>8. 总结</h3><p>本文实现的jQuery实际上就是一个构造函数，接受一个参数，参数可以是一个节点也可以是一个选择器，然后返回一个方法对象去操作节点或选择器选中的节点。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/24/DOM-API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/24/DOM-API/" itemprop="url">API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-24T08:03:09+08:00">
                2018-02-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>innerText和textContent的区别</p>
</li>
<li><p>nodeType值</p>
</li>
<li><p>cloneNode分为深拷贝和浅拷贝</p>
</li>
<li><p>isEqualNode和isSameNode的区别</p>
</li>
<li><p>normalize</p>
</li>
<li><p>DOM树的根节点是html</p>
</li>
<li><p>DOM节点的七种类型</p>
</li>
<li><p>childNode的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">childNode.remove()</span><br><span class="line">childNode.before()</span><br><span class="line">childNode.after()</span><br><span class="line">childNode.replace()</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTMLCollection和NodeList的区别</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/20/JS笔记-函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/20/JS笔记-函数/" itemprop="url">JS笔记-函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-20T20:55:56+08:00">
                2018-02-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="函数声明的五种方式"><a href="#函数声明的五种方式" class="headerlink" title="函数声明的五种方式"></a>函数声明的五种方式</h3><ol>
<li>具名函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function fn(输入1, 输入2, ...)&#123;</span><br><span class="line">  return 输出值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>函数是变量的特例
console.log(x) -&gt; 结果：字符串
2. 匿名函数
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var fn = function(输入1, 输入2, ...)&#123;</span><br><span class="line">  return 输出值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>声明+具名<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var f = function fn(输入1, 输入2, ...)&#123;</span><br><span class="line">  return 输出值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>console.log(fn) -&gt; 报错
fn的作用域只在函数的代码块内
4. Function构造函数
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var fn = new Function(&apos;输入1&apos;, &apos;输入2&apos;, &apos;return 返回值&apos;)</span><br></pre></td></tr></table></figure></p>
<p>5.ES6语法（箭头函数）
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn = (输入1, 输入2) =&gt; &#123;</span><br><span class="line">  return 输出</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>只有一个参数，可以省略()，函数体只有一句话，可以同时省略{}及return
箭头函数只能是匿名函数，可以用变量包含</p>
<h3 id="函数的name属性"><a href="#函数的name属性" class="headerlink" title="函数的name属性"></a>函数的name属性</h3><ol>
<li><p>具名函数的name</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;&#125;</span><br><span class="line">fn.name //fn</span><br></pre></td></tr></table></figure>
</li>
<li><p>匿名函数的name</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var f = function()&#123;&#125;</span><br><span class="line">f.name //f</span><br></pre></td></tr></table></figure>
</li>
<li><p>声明+具名函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var f = function fn()&#123;&#125;</span><br><span class="line">f.name //fn</span><br></pre></td></tr></table></figure>
</li>
<li><p>Function构造函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var fn = new Function(&apos;x&apos;, &apos;y&apos;, &apos;return x+y&apos;)</span><br><span class="line">fn.name //&quot;anonymous&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h3><ol>
<li>fn(参数1, 参数2, …)</li>
<li>fn.call(undefined, 参数1, 参数2, …)<h3 id="this-与-arguments"><a href="#this-与-arguments" class="headerlink" title="this 与 arguments"></a>this 与 arguments</h3>fn.call(undefined, 参数1, 参数2, …)
this: undefined
arguments: 参数1, 参数2, …</li>
</ol>
<p>call的第一个参数可以用this得到
call的后面的参数可以用arguments得到
非严格模式下，this为undefined时，浏览器会自动将undefined变为window</p>
<h3 id="调用栈"><a href="#调用栈" class="headerlink" title="调用栈"></a>调用栈</h3><p>stack -&gt;先入后出</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>如果一个函数，使用了它范围外的变量，那么（这个函数+这个变量）就叫做闭包</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/05/JavaScript数据类型转换方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/05/JavaScript数据类型转换方法/" itemprop="url">JavaScript数据类型转换方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-05T16:25:18+08:00">
                2018-02-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>JS一共有七种数据类型，分别是：string、number、boolean、object、symbol、null、undefined，在正常使用中，一般不会将数据转换为symbol、null、undefined，因此本文也不涉及。</p>
</blockquote>
<h2 id="一、转换为string"><a href="#一、转换为string" class="headerlink" title="一、转换为string"></a>一、转换为string</h2><ol>
<li><code>String()</code> 方法</li>
</ol>
<p><code>String</code> 全局对象是一个用于字符串或一个字符序列的构造函数，可以使用 <code>String</code> 函数将其他值生成或转换成字符串。</p>
<p><img src="https://i.loli.net/2018/02/06/5a78f2782cf23.png" alt="String()">
String()方法适用于将各种类型的数据转换为string类型，包括Symbol类型：</p>
<p><img src="https://i.loli.net/2018/02/06/5a790ebea135b.png" alt="使用String()方法转换symbol类型"></p>
<p>值得注意的是String()方法在转换Object类型时，无论Object中的键值为何，只会转换成字符串 <code>&quot;[object Object]&quot;</code> </p>
<ol>
<li><code>toString()</code> 方法</li>
</ol>
<p>每个对象都有一个 <code>toString()</code> 方法，返回值表示该对象的字符串。</p>
<p><img src="https://i.loli.net/2018/02/06/5a795d7bbfed8.png" alt="toString()方法"></p>
<p>与String()方法不同的是，toString()方法并不能转换 <code>null</code>类型和 <code>undefined</code>类型</p>
<p><img src="https://i.loli.net/2018/02/06/5a795e23c647e.png" alt="toString()方法不能转换null和undefined"></p>
<ol>
<li><code>+&#39;&#39;</code>方法</li>
</ol>
<p>对非String类型的数据，可以使用 <code>+&#39;&#39;</code> 这种方法，例如：</p>
<p><img src="https://i.loli.net/2018/02/06/5a796453ecc91.png" alt="+&#39;&#39;方法">
需要注意的是，<code>+&#39;&#39;</code>方法的单引号中为空，并不是空格，而且这种方法并不能转换Symbol类型</p>
<p><img src="https://i.loli.net/2018/02/06/5a7964c472940.png" alt="+‘’方法并不能转换Symbol类型"></p>
<h2 id="二、转换为Number"><a href="#二、转换为Number" class="headerlink" title="二、转换为Number"></a>二、转换为Number</h2><ol>
<li><code>Number()</code> 方法</li>
</ol>
<p><img src="https://i.loli.net/2018/02/06/5a79675a41781.png" alt="Number方法">
使用Number()方法时，会将Object类型转换为NaN，不管Object是空还是有值。</p>
<ol>
<li><code>parseInt()</code> 方法</li>
</ol>
<p>parseInt() 函数解析一个字符串参数，并返回一个指定基数的整数。</p>
<p>语法： <code>parseInt(string, radix);</code>，其中string表示要被转换的值，如果被转换的值不是一个字符串，那么该值将会被转换为字符串然后再进行数字转换；radix表示转换的基数，参数 <code>&#39;10&#39;</code> 表示被转换的值将被转换为十进制数。</p>
<p><img src="https://i.loli.net/2018/02/06/5a79a156e390a.png" alt="parseInt()"></p>
<ol>
<li><code>parseFloat()</code> 方法</li>
</ol>
<p>parseFloat() 函数解析一个字符串参数并返回一个浮点数。</p>
<p>语法： <code>parseFloat(string)</code> ，string表示需要被解析成为浮点数的字符串。</p>
<p>由于只有十进制中存在浮点数，因此不需要参数。</p>
<p><img src="https://i.loli.net/2018/02/06/5a79a23e83c4d.png" alt="parseFloat()">
注意： <code>parseFloat()</code> 与 <code>parseInt()</code>一样，数字之后的字符将会被舍弃，数字之前的字符将导致转换后的值为 <code>NaN</code>。</p>
<ol>
<li><code>-0</code> 方法</li>
</ol>
<p><img src="https://i.loli.net/2018/02/06/5a79a5c8dc3f9.png" alt="-0"></p>
<p><code>-0</code> 方法在转换数字字符串时可以将其转换为数字，若字符串中有非数字字符，则得到的值为 <code>NaN</code> 。</p>
<p><img src="https://i.loli.net/2018/02/06/5a79a62a1454d.png" alt="转换数字字符串及包含非数字字符的字符串"></p>
<ol>
<li><code>+</code> 方法</li>
</ol>
<p><img src="https://i.loli.net/2018/02/06/5a79a72f041c5.png" alt="+">
同<code>-0</code> 方法， <code>+</code> 方法在转换数字字符串时可以将其转换为数字，若字符串中有非数字字符，则得到的值为 <code>NaN</code> 。</p>
<h2 id="三、转换为Boolean值"><a href="#三、转换为Boolean值" class="headerlink" title="三、转换为Boolean值"></a>三、转换为Boolean值</h2><ol>
<li><code>Boolean()</code> 方法</li>
</ol>
<p><img src="https://i.loli.net/2018/02/06/5a79a842b3bfe.png" alt="Boolean()方法"></p>
<ol>
<li><p><code>!!</code> 方法</p>
<p><code>!</code>运算符表示取反，会将数据转换为其Boolean值相反的值</p>
</li>
</ol>
<p><img src="https://i.loli.net/2018/02/07/5a7a42f150339.png" alt="!取反"></p>
<p>对经过 <code>!</code> 运算取反的值再次取反，就可以得到被转换值原本的Boolean值</p>
<p><img src="https://i.loli.net/2018/02/07/5a7a43be8b427.png" alt="!!得到Boolean值"></p>
<hr>
<p>以上。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/23/常见排序算法的伪代码及流程图/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/23/常见排序算法的伪代码及流程图/" itemprop="url">常见排序算法的伪代码及流程图</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-23T18:32:33+08:00">
                2018-01-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文涉及的排序算法有：冒泡排序、选择排序、桶排序、计数排序、堆排序</p>
</blockquote>
<ul>
<li><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3></li>
</ul>
<p>伪代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">a &lt;- &#123;</span><br><span class="line">  &apos;0&apos;:6,</span><br><span class="line">  &apos;1&apos;:3,</span><br><span class="line">  &apos;2&apos;:7,</span><br><span class="line">  &apos;3&apos;:11,</span><br><span class="line">  &apos;4&apos;:4,</span><br><span class="line">  &apos;5&apos;:9,</span><br><span class="line">  &apos;length&apos;:6</span><br><span class="line">&#125;</span><br><span class="line">轮数n &lt;- 1</span><br><span class="line">while (n &lt; a[&apos;length&apos;])</span><br><span class="line">  选中的数字的下标i &lt;- 0</span><br><span class="line">  while (i &lt; a[&apos;length&apos;] - n)</span><br><span class="line">    if (a[i] &lt; a[i+1])</span><br><span class="line">      i &lt;- i+1</span><br><span class="line">    else</span><br><span class="line">      t &lt;- a[i]</span><br><span class="line">      a[i] &lt;- a[i+1]</span><br><span class="line">      a[i+1] &lt;- t</span><br><span class="line">      i &lt;- i+1</span><br><span class="line">    end</span><br><span class="line">    n &lt;- n+1</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>流程图：
<img src="http://ww1.sinaimg.cn/large/691e2a69gy1fnqb3k9avuj20d50pnaaz.jpg" alt="冒泡排序流程图"></p>
<ul>
<li><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3></li>
</ul>
<p>伪代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">a &lt;- &#123;</span><br><span class="line">  &apos;0&apos;:3,</span><br><span class="line">  &apos;1&apos;:5,</span><br><span class="line">  &apos;2&apos;:1,</span><br><span class="line">  &apos;3&apos;:7,</span><br><span class="line">  &apos;4&apos;:2,</span><br><span class="line">  &apos;5&apos;:6,</span><br><span class="line">  &apos;length&apos;:6</span><br><span class="line">&#125;</span><br><span class="line">轮数n &lt;- 1</span><br><span class="line">while (n &lt; a[&apos;length&apos;])</span><br><span class="line">  minIndex &lt;- n-1</span><br><span class="line">  index &lt;- minIndex+1</span><br><span class="line">  while (index &lt; a[&apos;length&apos;])</span><br><span class="line">    if(a[minIndex] &lt; a[index])</span><br><span class="line">      index &lt;- index+1</span><br><span class="line">    else</span><br><span class="line">      minIndex &lt;- index</span><br><span class="line">      index &lt;- index+1</span><br><span class="line">    end</span><br><span class="line">  t &lt;- a[n-1]</span><br><span class="line">  a[n-1] &lt;- a[minIndex]</span><br><span class="line">  a[minIndex] &lt;- t</span><br><span class="line">  index &lt;- index+1</span><br><span class="line">  end</span><br><span class="line">print a</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>流程图：
<img src="http://ww1.sinaimg.cn/large/691e2a69gy1fnrp6mvn90j20b20srjsg.jpg" alt="选择排序流程图"></p>
<ul>
<li><h3 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h3></li>
</ul>
<p>伪代码：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">a &lt;- &#123;</span><br><span class="line">  &apos;0&apos;:0,</span><br><span class="line">  &apos;1&apos;:5,</span><br><span class="line">  &apos;2&apos;:1,</span><br><span class="line">  &apos;3&apos;:7,</span><br><span class="line">  &apos;4&apos;:2,</span><br><span class="line">  &apos;5&apos;:5,</span><br><span class="line">  &apos;length&apos;:6</span><br><span class="line">&#125;</span><br><span class="line">hash &lt;- &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//入桶</span><br><span class="line">index &lt;- 0</span><br><span class="line">while (index &lt; a[&apos;length&apos;])</span><br><span class="line">  number &lt;- a[&apos;index&apos;]</span><br><span class="line">  if hash[number] == undefined</span><br><span class="line">    hash[number] &lt;- 1</span><br><span class="line">  else</span><br><span class="line">    hash[number] &lt;- hash[number] + 1</span><br><span class="line">  end</span><br><span class="line">  index &lt;- index + 1</span><br><span class="line">end</span><br><span class="line">//出桶</span><br><span class="line">index2 &lt;- 0</span><br><span class="line">//确定hash长度（最大的数+1）</span><br><span class="line">max &lt;-findMax(a)</span><br><span class="line">/*</span><br><span class="line">findMax(a):</span><br><span class="line">  index3 &lt;- 0</span><br><span class="line">  max &lt;- a[&apos;index3&apos;]</span><br><span class="line">  while(index3 &lt; a[&apos;length&apos;]-1)</span><br><span class="line">    if(a[&apos;index3&apos;] &lt; a[&apos;index3&apos;+1])</span><br><span class="line">      max &lt;- a[&apos;index3&apos;+1]</span><br><span class="line">    else</span><br><span class="line">      max &lt;- a[&apos;index3&apos;]</span><br><span class="line">  index3 &lt;- index3+1</span><br><span class="line">  end</span><br><span class="line">*/</span><br><span class="line">while(index2 &lt; max+1)</span><br><span class="line">  count &lt;- hash[index2]</span><br><span class="line">  if count != undefined</span><br><span class="line">    countIndex &lt;- 0</span><br><span class="line">    while(countIndex &lt; count)</span><br><span class="line">      newArr.push(index2)</span><br><span class="line">      countIndex &lt;- countIndex+1</span><br><span class="line">    end</span><br><span class="line">  end</span><br><span class="line">  index2 &lt;- index2+1</span><br><span class="line">print newArr</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>流程图：
<img src="http://ww1.sinaimg.cn/large/691e2a69ly1fnsokdbh2lj20bt1c7q4s.jpg" alt=""></p>
<ul>
<li><h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3></li>
</ul>
<p>伪代码：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">a &lt;- &#123;</span><br><span class="line">  &apos;0&apos;:0,</span><br><span class="line">  &apos;1&apos;:5,</span><br><span class="line">  &apos;2&apos;:1,</span><br><span class="line">  &apos;3&apos;:7,</span><br><span class="line">  &apos;4&apos;:2,</span><br><span class="line">  &apos;5&apos;:5,</span><br><span class="line">  &apos;length&apos;:6</span><br><span class="line">&#125;</span><br><span class="line">hash &lt;- &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//入桶</span><br><span class="line">capacity &lt;- 10 //每个桶存放的数字范围</span><br><span class="line">findMaxMin(a): //找出数组a中最大值和最小值</span><br><span class="line">  index3 &lt;- 0</span><br><span class="line">  max &lt;- a[&apos;index3&apos;]</span><br><span class="line">  min &lt;- a[&apos;index3&apos;]</span><br><span class="line">  while(index3 &lt; a[&apos;length&apos;]-1)</span><br><span class="line">    if(a[&apos;index3&apos;] &gt; max)</span><br><span class="line">      max &lt;- a[&apos;index3&apos;]</span><br><span class="line">    if(a[&apos;index3&apos;] &lt; min)</span><br><span class="line">      min &lt;- a[index3]</span><br><span class="line">  index3 &lt;- index3+1</span><br><span class="line">  end</span><br><span class="line"></span><br><span class="line">bucketCount &lt;- 取整[(max-min)/capacity] //确定桶的数量</span><br><span class="line"></span><br><span class="line">index &lt;- 0</span><br><span class="line">while(index &lt; a[&apos;length&apos;])</span><br><span class="line">  bucketIndex &lt;- 0</span><br><span class="line">  while(bucketIndex &lt; bucketCount)</span><br><span class="line">    if a[index] &lt;= (min+capacity*(bucketIndex+1)) &amp;&amp; a[index] &gt; (min+capacity*bucketIndex)</span><br><span class="line">      if(bucket[bucketIndex] == undefined)</span><br><span class="line">        bucket[bucketIndex] &lt;- []</span><br><span class="line">      else</span><br><span class="line">        bucket[bucketIndex].push(a[index])</span><br><span class="line">      end</span><br><span class="line">    end</span><br><span class="line">  bucketIndex &lt;- bucketIndex+1</span><br><span class="line">  end</span><br><span class="line">index &lt;- index+1</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">//用冒泡排序将桶内数据排序</span><br><span class="line">轮数n &lt;- 1</span><br><span class="line">while (n &lt; bucketIndex)</span><br><span class="line">  minIndex &lt;- n-1</span><br><span class="line">  index &lt;- minIndex+1</span><br><span class="line">  while (index &lt; bucketIndex)</span><br><span class="line">    if(bucket[bucketIndex][minIndex] &lt; bucket[bucketIndex][index])</span><br><span class="line">      index &lt;- index+1</span><br><span class="line">    else</span><br><span class="line">      minIndex &lt;- index</span><br><span class="line">      index &lt;- index+1</span><br><span class="line">    end</span><br><span class="line">  t &lt;- bucket[bucketIndex][n-1]</span><br><span class="line">  bucket[bucketIndex][n-1] &lt;- bucket[bucketIndex][minIndex]</span><br><span class="line">  bucket[bucketIndex][minIndex] &lt;- t</span><br><span class="line">  index &lt;- index+1</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">//出桶</span><br><span class="line">outBucket &lt;- 0</span><br><span class="line">while(outBucket &lt; bucketCount)</span><br><span class="line">  if bucket[outBucket] != undefined</span><br><span class="line">    outBucketIndex &lt;- 0</span><br><span class="line">    while(outBucketIndex &lt; bucket[outBucket].length)</span><br><span class="line">      newArr.push(bucket[outBucket][outBucketIndex])</span><br><span class="line">    end</span><br><span class="line">  outBucket &lt;- outBucket+1</span><br><span class="line">  end</span><br><span class="line">print newArr</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>流程图：
<img src="http://ww1.sinaimg.cn/large/691e2a69ly1fnsxqdeaouj20jq1tgwii.jpg" alt="桶排序流程图"></p>
<ul>
<li><h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3></li>
</ul>
<p>伪代码：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>流程图：
<img src="" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">wky</p>
              <p class="site-description motion-element" itemprop="description">Talk is cheap.Show me the code.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wky</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
