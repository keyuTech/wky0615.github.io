<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Talk is cheap.Show me the code.">
<meta property="og:type" content="website">
<meta property="og:title" content="今天学习了吗">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="今天学习了吗">
<meta property="og:description" content="Talk is cheap.Show me the code.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="今天学习了吗">
<meta name="twitter:description" content="Talk is cheap.Show me the code.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>今天学习了吗</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">今天学习了吗</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/02/Cookie、Session和LocalStorage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/02/Cookie、Session和LocalStorage/" itemprop="url">Cookie、Session和LocalStorage</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-02T22:26:55+08:00">
                2018-04-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>Cookie</li>
</ul>
<ol>
<li><p>服务器通过 Set-Cookie 头给客户端一段字符串设置 Cookie</p>
</li>
<li><p>客户端在每次访问相同的域名时，必须带上这段字符串</p>
</li>
<li><p>客户端在一段时间内保存这个 Cookie</p>
</li>
</ol>
<ul>
<li>Session</li>
</ul>
<ol>
<li><p>服务端将 SessionID（随机数）通过 Cookie 发给客户端</p>
</li>
<li><p>客户端访问服务器时，服务端读取 SessionID</p>
</li>
<li><p>服务端有一部分内存保存了所有的 Session （哈希表）</p>
</li>
<li><p>通过 SessionID 可以获取对应用户的隐私信息</p>
</li>
</ol>
<ul>
<li>LocalStorage</li>
</ul>
<ol>
<li><p>LocalStorage 与HTTP无关，HTTP中并不会带上 LocalStorage 中的内容</p>
</li>
<li><p>只有相同域名的页面才能互相读取 LocalStorage</p>
</li>
<li><p>每个域名 LocalStorage 最大存储量为5M～10M</p>
</li>
<li><p>LocalStorage 永久有效，除非用户清理缓存</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/16/立即执行函数的出现及闭包的实际使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/16/立即执行函数的出现及闭包的实际使用/" itemprop="url">立即执行函数的出现及闭包的实际使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-16T22:41:12+08:00">
                2018-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、立即执行函数的出现"><a href="#一、立即执行函数的出现" class="headerlink" title="一、立即执行函数的出现"></a>一、立即执行函数的出现</h3><p>我们都知道，在ES 6出现之前，前端开发人员在JavaScript中只能在函数中才能使用局部变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var a = 1 //全局变量</span><br><span class="line"></span><br><span class="line">function createB()&#123;</span><br><span class="line">  var b = 2 //局部变量</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createB() // 2</span><br><span class="line">console.log(a) // 1</span><br><span class="line">console.log(b) // b is not defined</span><br></pre></td></tr></table></figure>
<p>在上面的代码中  <code>createB()</code> 这个函数在声明之后立即调用，在控制台打印出了变量b的值。
在C语言或C++中，我们可以使用 <code>{}</code> 将代码包裹起来实现局部变量，但是JavaScript中有变量提升这个东西，所以在JS中这种方法并不可行。
但是这种方法还是使用到了全局变量，在哪里呢？函数 <code>createB()</code> ，虽然变量B在函数内是一个局部变量，但是函数本身还在全局作用域中。所以我们在调用函数 <code>createB</code> 时还是使用到了全局变量。
怎么办呢，这里我们将函数 <code>createB()</code> 改写成一个匿名函数，并且立即调用它：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function()&#123;</span><br><span class="line">  var b = 2</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;.call()</span><br></pre></td></tr></table></figure>
<p>这种方法虽然解决了局部变量的问题，但是在浏览器中执行的时候会报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function()&#123;</span><br><span class="line">  var b = 2</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;.call() //Uncaught SyntaxError: Unexpected token (</span><br></pre></td></tr></table></figure>
<p>于是广大程序员试出来一些方法使得浏览器不报语法错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//第一种，在函数前加取反符号 ！ </span><br><span class="line">!function()&#123;</span><br><span class="line">  var b = 2</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;.call() </span><br><span class="line"></span><br><span class="line">//第二种，在函数前加 +/- 号</span><br><span class="line">-function()&#123;</span><br><span class="line">  var b = 2</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;.call() </span><br><span class="line">(function()&#123;</span><br><span class="line">  var b = 2</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;).call()</span><br><span class="line"></span><br><span class="line">//第三种，用()将函数体包裹起来</span><br><span class="line">(function()&#123;</span><br><span class="line">  var b = 2</span><br><span class="line">  console.log(b)</span><br><span class="line">&#125;).call()</span><br><span class="line"></span><br><span class="line">// 还有其他方法不再一一介绍</span><br></pre></td></tr></table></figure>
<p>虽然第一、第二种方法会改变函数的返回值，但是由于我们不在乎函数的返回值，因此并不会有影响。</p>
<h3 id="二、总结立即执行函数"><a href="#二、总结立即执行函数" class="headerlink" title="二、总结立即执行函数"></a>二、总结立即执行函数</h3><ol>
<li>我们程序员不想用全局变量</li>
<li>我们想用局部变量</li>
<li>ES 6之前，只有函数有局部变量</li>
<li>于是我们声明一个 function xxx(){}，然后调用这个函数，xxx.call()</li>
<li>但是函数xxx也是全局变量（全局函数），因此我们不能给函数名字</li>
<li>就有了匿名函数 function(){}.call()</li>
<li>但是这种写法在 Chrome 中会报语法错误</li>
<li>程序员试出来一些方法使得浏览器不报错</li>
</ol>
<h3 id="三、闭包的出现"><a href="#三、闭包的出现" class="headerlink" title="三、闭包的出现"></a>三、闭包的出现</h3><p>在上文中我们知道了立即执行函数的出现以及作用就是实现局部变量，那么现在就出现了新的问题，假设我现在有两个 <code>.js</code> 文件，这两个文件想要相互访问要如何实现？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// module1.js</span><br><span class="line">!function()&#123;</span><br><span class="line">  var person = &#123;</span><br><span class="line">    &quot;name&quot;: &quot;wky&quot;,</span><br><span class="line">    &quot;age&quot;: 18</span><br><span class="line">  &#125;</span><br><span class="line">  window.person = person</span><br><span class="line">&#125;.call()</span><br><span class="line"></span><br><span class="line">// module2.js</span><br><span class="line">!function()&#123;</span><br><span class="line">  var person = wondow.person</span><br><span class="line">  console.log(person)</span><br><span class="line">&#125;.call()</span><br></pre></td></tr></table></figure>
<p>我们将变量person添加到window对象上，这样其他的函数内部也可以访问到变量person，但是为了避免其他函数直接操作变量person，我们修改一下这个函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// module1.js</span><br><span class="line">!function()&#123;</span><br><span class="line">  var person = &#123;</span><br><span class="line">    &quot;name&quot;: &quot;wky&quot;,</span><br><span class="line">    &quot;age&quot;: 18</span><br><span class="line">  &#125;</span><br><span class="line">  window.personGrowUp = function()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">    return person.age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;.call()</span><br><span class="line"></span><br><span class="line">// module2.js</span><br><span class="line">!function()&#123;</span><br><span class="line">  var newAge = window.personGrowUp</span><br><span class="line">  console.log(newAge) // 19    </span><br><span class="line">&#125;.call()</span><br></pre></td></tr></table></figure>
<p>这里module1.js函数中只暴露了一个函数 <code>personGrowUp()</code> ，在module2.js中只能使用这个使年龄加一的函数，而不能直接使用变量person，这样就起到了一个隐藏变量的功能，在module1.js中就生成了一个闭包，因为函数 <code>personGrowUp()</code> 使用了函数之外的一个变量person。</p>
<h3 id="四、总结闭包的使用"><a href="#四、总结闭包的使用" class="headerlink" title="四、总结闭包的使用"></a>四、总结闭包的使用</h3><ol>
<li>立即执行函数使得变量 person 无法被外部访问</li>
<li>闭包使得匿名函数可以操作 person</li>
<li>window.personGrowUp 保存了匿名函数的地址</li>
<li>任何地方都可以使用 window.personGrowUp 操作 person ，但是不能直接访问 person </li>
</ol>
<h3 id="五、改写函数"><a href="#五、改写函数" class="headerlink" title="五、改写函数"></a>五、改写函数</h3><p>我们对上面的函数进行一些简单的改写就可以得到一个标准的闭包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var fn = function()&#123;</span><br><span class="line">  var person = &#123;</span><br><span class="line">    &quot;name&quot;: &quot;wky&quot;,</span><br><span class="line">    &quot;age&quot;: 18</span><br><span class="line">  &#125;</span><br><span class="line">  return function()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">    return person.age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var personGrowUp = fn()</span><br><span class="line">personGrowUp()</span><br></pre></td></tr></table></figure>
<p>这里函数fn在声明之后立即调用，这也是一个立即执行函数，函数fn返回一个匿名函数，因此我们可以再次调用 <code>personGrowUp</code> 函数。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-15T11:22:24+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/14/自己动手封装AJAX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/14/自己动手封装AJAX/" itemprop="url">自己动手封装AJAX</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-14T21:29:04+08:00">
                2018-03-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、手写AJAX"><a href="#一、手写AJAX" class="headerlink" title="一、手写AJAX"></a>一、手写AJAX</h3><p>首先我们先用原生JS手写一个AJAX：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let xhr = new XMLHttpRequest()</span><br><span class="line">xhr.open(&apos;POST&apos;, &apos;/xxx&apos;)</span><br><span class="line">xhr.onreadystatechange = (e) =&gt; &#123;</span><br><span class="line">  if(xhr.readyState === 4)&#123;</span><br><span class="line">    if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">      console.log(&apos;请求成功&apos;)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      console.log(&apos;请求失败&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">xhr.send(&apos;hi&apos;)</span><br></pre></td></tr></table></figure>
<p>这是一个POST请求的AJAX，可以通过修改 <code>open</code> 的第一个参数来修改请求类型，同时 <code>send()</code> 中的参数就是请求的第四部分-请求体（GET请求不需要在 <code>send()</code> 中传参）。</p>
<h3 id="二、封装这个AJAX"><a href="#二、封装这个AJAX" class="headerlink" title="二、封装这个AJAX"></a>二、封装这个AJAX</h3><p>我们在<a href="https://www.jianshu.com/p/c57facf913bc" target="_blank" rel="noopener">实现jQuery中的两个API</a>提到过用函数封装代码的做法，这次一样用一个函数来封装AJAX</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery.ajax = function(method, url, body, successFn, failFn)&#123;</span><br><span class="line">  xhr.open(method, url)</span><br><span class="line">  xhr.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">        if(xhr.readyState === 4)&#123;</span><br><span class="line">          if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">            console.log(&apos;成功&apos;)</span><br><span class="line">            successFn.call(undefined, xhr.responseText)</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">            console.log(&apos;失败&apos;)</span><br><span class="line">            failFn.call(undefined, xhr)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;  </span><br><span class="line">  xhr.send(body)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.jQuery.ajax(</span><br><span class="line">  &apos;POST&apos;, </span><br><span class="line">  &apos;/xxx&apos;, </span><br><span class="line">  &apos;a=1&apos;, </span><br><span class="line">  (responseText)=&gt;&#123;</span><br><span class="line">    console.log(responseText)  </span><br><span class="line">  &#125;, </span><br><span class="line">  ()=&gt;&#123;</span><br><span class="line">    console.log(&apos;请求失败&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>这里我们用 <code>window.jQuery.ajax</code> 这个函数来封装第一步中的代码，函数接受五个参数：请求类型、请求的URL、请求体、请求成功时的回调函数、请求失败时的回调函数。</p>
<h3 id="三、改进window-jQuery-ajax"><a href="#三、改进window-jQuery-ajax" class="headerlink" title="三、改进window.jQuery.ajax"></a>三、改进window.jQuery.ajax</h3><p>虽然在上一步中我们已经成功封装了一个函数实现AJAX，但是这个函数仍有许多不足，比如我们在使用这个函数的时候并不知道函数的每一个参数代表什么意思，我们只有去看这个函数的源码才知道；再比如我如果使用GET请求，那我不需要在请求中传入请求体，那么函数的第三个参数只能用 <code>null</code> 或 <code>undefined</code> ，并不能直接不传第三个参数。
接下来我们对这个函数作进一步的改进：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery.ajax = function(options)&#123;</span><br><span class="line">  let method = options.method</span><br><span class="line">  let url = options.url</span><br><span class="line">  let body = options.body</span><br><span class="line">  let successFn = options.successFn</span><br><span class="line">  let failFn = options.failFn</span><br><span class="line"></span><br><span class="line">  let xhr = new XMLHttpRequest()</span><br><span class="line">  xhr.open(method, url)</span><br><span class="line">  xhr.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">    if(xhr.readyState === 4)&#123;</span><br><span class="line">      if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">        console.log(&apos;成功&apos;)</span><br><span class="line">        successFn.call(undefined, xhr.responseText)</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        console.log(&apos;失败&apos;)</span><br><span class="line">        failFn.call(undefined, xhr)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  xhr.send(body)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myButton.addEventListener(&apos;click&apos;, function(e)&#123;</span><br><span class="line">  let obj = &#123;</span><br><span class="line">    method: &apos;post&apos;,</span><br><span class="line">    url: &apos;/xxx&apos;,</span><br><span class="line">    body: &apos;a=1&apos;,</span><br><span class="line">    successFn: (responseText)=&gt;&#123;</span><br><span class="line">      console.log(responseText)</span><br><span class="line">    &#125;,</span><br><span class="line">    failFn: (xhr)=&gt;&#123;</span><br><span class="line">      console.log(&apos;请求失败&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  window.jQuery.ajax(obj)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这里使用了一种参数命名的方法，我们用一个对象表示所有的参数，然后在函数内获取每个具体的参数，这样就可以不用记住参数的顺序，同时能避免少传参数导致错误的情况。</p>
<h3 id="四、为函数添加修改请求头功能"><a href="#四、为函数添加修改请求头功能" class="headerlink" title="四、为函数添加修改请求头功能"></a>四、为函数添加修改请求头功能</h3><p>现在我们还缺少一个修改请求头的功能，添加功能后的代码如下：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery.ajax = function(options)&#123;</span><br><span class="line">  let method = options.method</span><br><span class="line">  let url = options.url</span><br><span class="line">  let body = options.body</span><br><span class="line">  let headers = options.headers</span><br><span class="line">  let successFn = options.successFn</span><br><span class="line">  let failFn = options.failFn</span><br><span class="line"></span><br><span class="line">  let xhr = new XMLHttpRequest()</span><br><span class="line">  xhr.open(method, url)</span><br><span class="line">  for(let key in headers)&#123;</span><br><span class="line">    let value = headers[key]</span><br><span class="line">    xhr.setRequestHeader(key, value)</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">    if(xhr.readyState === 4)&#123;</span><br><span class="line">      if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">        console.log(&apos;成功&apos;)</span><br><span class="line">        successFn.call(undefined, xhr.responseText)</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        console.log(&apos;失败&apos;)</span><br><span class="line">        failFn.call(undefined, xhr)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  xhr.send(body)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myButton.addEventListener(&apos;click&apos;, function(e)&#123;</span><br><span class="line">  let obj = &#123;</span><br><span class="line">    method: &apos;post&apos;,</span><br><span class="line">    url: &apos;/xxx&apos;,</span><br><span class="line">    body: &apos;a=1&apos;,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &apos;Content-Type&apos;: &apos;x-www-foorm-urlencoded&apos;,</span><br><span class="line">      &apos;xxx&apos;: &apos;yyy&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    successFn: (responseText)=&gt;&#123;</span><br><span class="line">      console.log(responseText)</span><br><span class="line">    &#125;,</span><br><span class="line">    failFn: (xhr)=&gt;&#123;</span><br><span class="line">      console.log(&apos;请求失败&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  window.jQuery.ajax(obj)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>在用户传入 <code>headers</code> 对象之后，我们在函数内遍历这个对象，获取它的 <code>key</code> 和 <code>value</code> ，并将这两个值作为参数传入 <code>setRequestHeader()</code> 就完成了修改请求头的功能。</p>
<h3 id="五、简化代码"><a href="#五、简化代码" class="headerlink" title="五、简化代码"></a>五、简化代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery.ajax = function(&#123;method, url, body, headers, successFn, failFn&#125;)&#123;</span><br><span class="line">  let xhr = new XMLHttpRequest()</span><br><span class="line">  xhr.open(method, url)</span><br><span class="line">  for(let key in headers)&#123;</span><br><span class="line">    let value = headers[key]</span><br><span class="line">    xhr.setRequestHeader(key, value)</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">    if(xhr.readyState === 4)&#123;</span><br><span class="line">      if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">        console.log(&apos;成功&apos;)</span><br><span class="line">        successFn.call(undefined, xhr.responseText)</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        console.log(&apos;失败&apos;)</span><br><span class="line">        failFn.call(undefined, xhr)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;  </span><br><span class="line">  xhr.send(body)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>直接使用ES6中的解构赋值 <code>{method, url, body, headers, successFn, failFn}</code> 来简化参数
这样一来，我们就能使用 <code>jQuery.ajax(url,method,body,successFn, failFn)</code> 这样的API了。</p>
<h3 id="六、实现Promise"><a href="#六、实现Promise" class="headerlink" title="六、实现Promise"></a>六、实现Promise</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery.ajax = function(&#123;method, url, body, headers&#125;)&#123;</span><br><span class="line">  return new Promise(function(resolve, reject)&#123;</span><br><span class="line">    let xhr = new XMLHttpRequest()</span><br><span class="line">    xhr.open(method, url)</span><br><span class="line">    for(let key in headers)&#123;</span><br><span class="line">      let value = headers[key]</span><br><span class="line">      xhr.setRequestHeader(key, value)</span><br><span class="line">    &#125;</span><br><span class="line">    xhr.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">      if(xhr.readyState === 4)&#123;</span><br><span class="line">        if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">          console.log(&apos;成功&apos;)</span><br><span class="line">          resolve.call(undefined, xhr.responseText)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">          console.log(&apos;失败&apos;)</span><br><span class="line">          reject.call(undefined, xhr)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">    xhr.send(body)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在实现了Promise之后，用户就不需要再考虑回调函数的问题，同时用户也可以使用 <code>then</code> 进行链式操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery.ajax(&#123;</span><br><span class="line">  method: &apos;post&apos;,</span><br><span class="line">  url: &apos;/xxx&apos;,</span><br><span class="line">  body: &apos;a=1&apos;&#125;).then(</span><br><span class="line">    (responseText)=&gt;&#123;console.log(responseText)&#125;,</span><br><span class="line">    (xhr)=&gt;&#123;console.log(xhr)&#125;</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
<p>当请求成功时，控制台会打印出 <code>responseText</code>，失败时会打印出请求。</p>
<hr>
<p>以上。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/13/JSONP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/13/JSONP/" itemprop="url">JSONP是什么</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-13T23:32:26+08:00">
                2018-03-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="JSONP是什么"><a href="#JSONP是什么" class="headerlink" title="JSONP是什么"></a>JSONP是什么</h3><p>JSONP是通过动态创建 <code>&lt;script&gt;</code>标签实现跨域数据访问的一种方法，JSON+Padding的缩写就是JSONP，但是，JSONP获得的数据并不一定是JSON，而是所有JavaScript。</p>
<h3 id="JSONP到底是什么"><a href="#JSONP到底是什么" class="headerlink" title="JSONP到底是什么"></a>JSONP到底是什么</h3><p>请求方：网站A的前端（浏览器）
响应方：网站B的后端（服务器）</p>
<ol>
<li>请求方动态创建 <code>&lt;script&gt;</code>标签， <code>&lt;script&gt;</code>的src指向响应方，并且传一个查询参数?callback=xxx</li>
<li>响应方接受请求，根据查询参数callback=xxx构建形如： <code>xxx.call(undefined, &#39;请求的数据&#39;)</code> 的响应</li>
<li>请求方接受响应，并且执行 <code>xxx.call(undefined, &#39;请求的数据&#39;)</code> </li>
<li>请求方就得到了想要的数据</li>
</ol>
<p>另：一般情况下，查询参数xxx会被取名为一个随机数，如：wky123056123</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let script = document.createElement(&apos;script&apos;)</span><br><span class="line">script.src = &apos;http://jack.com:8002?callback=&apos; + functionName</span><br><span class="line">document.body.appendChild(script)</span><br><span class="line">let functionName = &apos;wky&apos; + parseInt(Math.random()*1000000, 10)</span><br><span class="line">window[functionName] = function(result)&#123;</span><br><span class="line">  alert(result)</span><br><span class="line">&#125;</span><br><span class="line">script.onload = function(e)&#123;</span><br><span class="line">  e.currentTarget.remove()</span><br><span class="line">&#125;</span><br><span class="line">script.onerror = function(e)&#123;</span><br><span class="line">  e.currentTarget.remove()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="通过jQuery实现JSONP"><a href="#通过jQuery实现JSONP" class="headerlink" title="通过jQuery实现JSONP"></a>通过jQuery实现JSONP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> $.ajax(&#123;</span><br><span class="line">    url: &quot;http://jack.com:8002&quot;,</span><br><span class="line">    jsonp: &quot;callback&quot;,</span><br><span class="line">    dataType: &quot;jsonp&quot;,</span><br><span class="line">    success: function( response ) &#123;</span><br><span class="line">    alert( response )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="JSONP的缺点"><a href="#JSONP的缺点" class="headerlink" title="JSONP的缺点"></a>JSONP的缺点</h3><ol>
<li>由于JSONP通过动态创建 <code>&lt;script&gt;</code>来发送请求，因此JSONP并不支持POST请求，因为 <code>&lt;script&gt;</code> 不支持POST请求</li>
<li>同样由于JSONP动态创建 <code>&lt;script&gt;</code> ，所以JSONP部署的网站很容易遭受<a href="http://zh.wikipedia.org/w/index.php?title=%E8%B7%A8%E7%B6%B2%E7%AB%99%E7%9A%84%E5%81%BD%E9%80%A0%E8%A6%81%E6%B1%82&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">跨网站的伪造要求</a>（CSRF/XSRF）的攻击，因为 HTML <code>&lt;script&gt;</code> 标签在浏览器里不遵守<a href="http://zh.wikipedia.org/w/index.php?title=%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">同源策略</a>，恶意网页可以要求并取得属于其他网站的 JSON 资料。</li>
</ol>
<p>以上。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/12/我可能学了假的CSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/12/我可能学了假的CSS/" itemprop="url">我可能学了假的CSS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-12T11:22:12+08:00">
                2018-03-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>前段时间在知乎上看到一个问题：为什么CSS这么难学？其中<a href="https://www.zhihu.com/people/zhihusucks/activities" target="_blank" rel="noopener">@方应杭</a>的回答拿了最高赞，按照答主的话来说，CSS难学就是因为三个字：不正交。</p>
</blockquote>
<p>接下来我们就来举些例子来展示一下CSS的 “不正交” 。</p>
<h3 id="1-border影响margin"><a href="#1-border影响margin" class="headerlink" title="1. border影响margin"></a>1. border影响margin</h3><p>先来给大家展示一个神奇的事情：
<img src="https://i.loli.net/2018/03/12/5aa5f3c526787.png" alt="起始代码">
大家先看一波基本的代码，这里有三个div，宽高都为100px，外边距为20px，1px的边框，我们都知道相邻的兄弟姐妹元素外边距会产生合并，所以三个div之间的距离是20px，没毛病~
<img src="http://upload-images.jianshu.io/upload_images/6878519-89552b7c6399d7a5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="修改1">
上图是我们做了第一次修改之后的样子，诶？加了一个只有边框的<code>&lt;div class=&quot;child&quot;&gt;&lt;/div&gt;</code>就把外边距合并的问题解决了？我操作的是border为什么会影响到margin？
不着急，接下来还有更神奇的事情
<img src="http://upload-images.jianshu.io/upload_images/6878519-210602e9c949f689.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="修改2">
<img src="http://upload-images.jianshu.io/upload_images/6878519-1c10705fde76608c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image">
0.1px的border不应该四舍五入变为0了吗，而且确实是这样的啊，output中已经看不到border了，但是为啥前两个div之间的距离还是40px啊？逗我吗？</p>
<h3 id="2-display影响list的小圆点"><a href="#2-display影响list的小圆点" class="headerlink" title="2. display影响list的小圆点"></a>2. display影响list的小圆点</h3><p>同样我们先看一下起始的代码：
<img src="http://upload-images.jianshu.io/upload_images/6878519-b3b16f513401535c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="list">
这里是一个只有默认样式的List，注意每个li之前的小圆点，大家都知道这是无序列表的默认样式，接下来我们要做一点微小的工作
<img src="http://upload-images.jianshu.io/upload_images/6878519-977234508a7d17a1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="display: block">
<img src="http://upload-images.jianshu.io/upload_images/6878519-835e1a99f51a0c4b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image">
What ？！说好的小圆点呢？设置了<code>display: block</code>小圆点就没了？你以为这就结束了？naive！
<img src="http://upload-images.jianshu.io/upload_images/6878519-0a49866705320be0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="display: inline">
<img src="http://upload-images.jianshu.io/upload_images/6878519-cc2333df51826ede.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="display: inline-block">
<img src="http://upload-images.jianshu.io/upload_images/6878519-f44ca3b430141200.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="display: flex">
看到了吗？我们对 li 设置的所有 display 全都会导致小圆点消失，除了上图展示出来的 <code>display: block</code>  、<code>display: inline</code> 、 <code>display: inline-block</code> 、 <code>display: flex</code> ，<code>display: table</code>一样会出现这种情况。</p>
<h3 id="3-position-absolute影响display-inline"><a href="#3-position-absolute影响display-inline" class="headerlink" title="3. position: absolute影响display: inline"></a>3. position: absolute影响display: inline</h3><p>老规矩，我们先上初始代码
<img src="http://upload-images.jianshu.io/upload_images/6878519-bc85ff1b0e38dab3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="起始代码">
这里是一个块级父元素，其内是一个设置了<code>display: inline</code>的子元素，此时子元素的display是inline这一点不用怀疑，但是我们对子元素做一点小小的改动，对它设置一个<code>position: absolute</code>，事情就不是这么简单了</p>
<p><img src="http://upload-images.jianshu.io/upload_images/6878519-c16a16319b0ec2e4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="position: absolute">
此时我们看到子元素的样式就是我们所想要的，但是我们打开控制台，找到Computed
<img src="http://upload-images.jianshu.io/upload_images/6878519-6e25f02281a59c84.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Console">
在Computed中查找display属性
<img src="http://upload-images.jianshu.io/upload_images/6878519-43f2a58221d698d0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Computed">
<img src="http://upload-images.jianshu.io/upload_images/6878519-c2a505f70d9cab99.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image">
说好的 inline 呢？为什么子元素变成 block 了？</p>
<h3 id="4-transform影响position：-fixed"><a href="#4-transform影响position：-fixed" class="headerlink" title="4. transform影响position： fixed"></a>4. transform影响position： fixed</h3><p>此时的我已经不想再哔哔了……我们直接看
<img src="http://upload-images.jianshu.io/upload_images/6878519-92578ecf37bb0ab1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="position: fixed">
emmmmmm……看起来是没错，<code>position: fixed</code>相对于视窗定位，此时的子元素处在iframe的左下角完全没问题，然而……
<img src="http://upload-images.jianshu.io/upload_images/6878519-ab02afe52c56eb63.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="transform: scale(1)">
(╯°Д°)╯︵┻━┻ 说好的 fixed 相对于视窗定位呢？我一定是学了假的CSS
<img src="http://upload-images.jianshu.io/upload_images/6878519-349485d53d32da50.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>本文中所举出的例子在CSS规范中都能找到解释，但是，那么长的规范让我全都看完，说实话我做不到，本人在这里只是将这些能体现CSS “不正交”的例子讲出来，提醒各位看客在操作中要注意这些地方，也给自己留个笔记。另外也要感谢<a href="https://www.zhihu.com/people/zhihusucks/activities" target="_blank" rel="noopener">@方应杭</a>的文章，各位如果觉得本文还不错，记得点个赞(｀・ω・´)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/07/JavaScript常见题目汇总/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/JavaScript常见题目汇总/" itemprop="url">JavaScript常见题目汇总</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T17:43:09+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-请写出一个符合-W3C-规范的-HTML-文件，要求"><a href="#1-请写出一个符合-W3C-规范的-HTML-文件，要求" class="headerlink" title="1.请写出一个符合 W3C 规范的 HTML 文件，要求"></a>1.请写出一个符合 W3C 规范的 HTML 文件，要求</h3><p>页面标题为「我的页面」
页面中引入了一个外部 CSS 文件，文件路径为 /style.css
页面中引入了另一个外部 CSS 文件，路径为 /print.css，该文件仅在打印时生效
页面中引入了另一个外部 CSS 文件，路径为 /mobile.css，该文件仅在设备宽度小于 500 像素时生效
页面中引入了一个外部 JS 文件，路径为 /main.js
页面中引入了一个外部 JS 文件，路径为 /gbk.js，文件编码为 GBK
页面中有一个 SVG 标签，SVG 里面有一个直径为 100 像素的圆圈，颜色随意</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;/style.css&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; media=&quot;print&quot; href=&quot;/print.css&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; media=&quot;screen and (max-width: 500px)&quot; href=&quot;/mobile.css&quot;&gt;</span><br><span class="line">    &lt;title&gt;我的页面&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;svg version=&quot;1.1&quot;</span><br><span class="line">         baseProfile=&quot;full&quot;</span><br><span class="line">         width=&quot;200&quot; height=&quot;200&quot;&gt;</span><br><span class="line">      &lt;circle cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;100&quot; fill=&quot;green&quot; /&gt;</span><br><span class="line">    &lt;/svg&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;/main.js&quot;&gt;&lt;script&gt;</span><br><span class="line">    &lt;script src=&quot;/gbk.js&quot; charset=&quot;GBK&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2-移动端是怎么做适配的？"><a href="#2-移动端是怎么做适配的？" class="headerlink" title="2.移动端是怎么做适配的？"></a>2.移动端是怎么做适配的？</h3><ol>
<li><p>使用<mtea name="viewport">
<meta>标签包含 <code>name</code>、 <code>content</code> 、 <code>http-equiv</code> 、 <code>charset</code> 、 <code>scheme</code> 五个属性，当 <code>name</code> 的值为 <code>viewport</code> 时可以使页面适应移动端设备，常用的meta viewport标签如下： <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1&quot;&gt;</code>
其中：
width：控制viewport宽度的大小，可以指定的一个值（或特殊值），如500，或device-width //特殊值
height：控制viewport宽度的大小，同上
initial-scale：控制页面第一次加载时的缩放比例
maximum-scale：允许用户缩放的最大比例
minimum-scale：允许用户缩放的最小比例
user-scalable：用户是否可以手动缩放</mtea></p>
</li>
<li><p>媒体查询
@media有四种媒体类型： <code>all</code> （适用于所有设备）、 <code>screen</code> （用于屏幕）、 <code>print</code> （用于打印设备）、<code>speech</code> （用于发声设备），默认情况下使用 <code>all</code> 类型</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    @media (max-width: 500px) &#123;</span><br><span class="line">        body &#123;</span><br><span class="line">            color: green;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>上述代码默认使用 <code>all</code> 类型，当窗口小于500px时，字体颜色会变成原谅色</p>
<ol>
<li>使用动态 rem </li>
</ol>
<p>rem代表根元素的 <code>font-size</code> 的大小，当设置元素的 <code>font-size</code> 为1rem时，就表示该元素的字体大小为根元素字体大小的1倍，2rem就为根元素字体大小的2倍…以此类推；同时也可以通过修改根元素的字体大小来改变元素字体的大小。
使用rem可以成比例地修改元素的字体大小，还可以避免添加的字体样式与继承来的样式相冲突。</p>
<h3 id="3-用过CSS3吗-实现圆角矩形和阴影怎么做"><a href="#3-用过CSS3吗-实现圆角矩形和阴影怎么做" class="headerlink" title="3.用过CSS3吗? 实现圆角矩形和阴影怎么做?"></a>3.用过CSS3吗? 实现圆角矩形和阴影怎么做?</h3><ul>
<li><p>实现圆角： 使用 <code>border-radius</code> 
  例：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px</span><br><span class="line">    border: 1px solid green;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>border-radius</code> 接受px、em、rem等等单位的值
<code>border-radius</code> 接受1-4个值：
  1个值：四个角都为同一个值
  2个值：左上角和右下角使用第一个值，右上角和左下角使用第二个值
  3个值：左上角使用第一个值，右上、左下使用第二个值，右下角使用第三个值
  4个值：从左上起顺时针使用1-4个值
<code>border-top-left-radius</code> 、 <code>border-top-right-radius</code> 、 <code>border-bottom-right-radius</code> 、 <code>border-bottom-left-radius</code> 分别表示四个角，可以单独设置样式</p>
<ul>
<li><p>实现阴影：使用 <code>box-shadow</code> </p>
<p> 例：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border: 1px solid green;</span><br><span class="line">    box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <code>box-shadow</code> 有五个值： <code>inset</code>（阴影默认在边框之外，使用inset则在边框内） 、 <code>&lt;offset-x&gt;/&lt;offset-y&gt;</code> （设置阴影偏移量，x表示水平偏移，y表示垂直偏移，可以有负值）、 <code>&lt;blur-radius&gt;</code> （此值越大，模糊面积越大，阴影越淡）、 <code>&lt;spread-radius&gt;</code> （默认为0，正值时，阴影扩大；负值时，阴影缩小）、 <code>&lt;color&gt;</code> （设置阴影颜色） </p>
</li>
</ul>
</li>
</ul>
<h3 id="4-什么是闭包，闭包的用途是什么？"><a href="#4-什么是闭包，闭包的用途是什么？" class="headerlink" title="4.什么是闭包，闭包的用途是什么？"></a>4.什么是闭包，闭包的用途是什么？</h3><ul>
<li>闭包是由函数和与其相关的引用环境组合而成的实体（<a href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener">wikipedia</a>)）
闭包由两部分组成：一是函数，二是与这个函数相关的引用环境，即函数及函数内部能访问到的变量组成了一个闭包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">    showName()</span><br><span class="line">&#125;)() //小明</span><br></pre></td></tr></table></figure>
<p>函数fn是一个立即执行函数，变量 <code>name</code> 和函数 <code>showName()</code> 就组成了一个闭包，这里变量 <code>name</code> 所在的上下文就是上文所说的引用环境。
对上面的立即执行函数做一点改动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    return function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var yourName = fn()</span><br><span class="line">yourName()</span><br></pre></td></tr></table></figure>
<p>代码改动后，我们不在函数fn内部调用函数showName()，而是将showName()函数作为fn函数的返回值返回出来，同时，我们在函数外定义了一个变量yourName来引用函数fn()，因此yourName执行时就相当于fn()被调用，而showName()函数一样需要调用其外部的变量name，因此函数showName()和变量name就组成了一个闭包。
上述代码中，函数fn()只是为了创建出局部变量name，如果没有fn()则变量name就成为了全局变量，那么其他的函数都可以访问到name，闭包就失去了存在的意义；而 <code>return function showName()</code> 则是为了能在函数fn()外部使用函数showName()</p>
<ul>
<li>闭包的作用</li>
</ul>
<p>闭包可以间接的访问一个变量，也就是可以使一个函数访问到另一个函数内部的变量。</p>
<h3 id="5-call、apply、bind-的用法分别是什么？"><a href="#5-call、apply、bind-的用法分别是什么？" class="headerlink" title="5.call、apply、bind 的用法分别是什么？"></a>5.call、apply、bind 的用法分别是什么？</h3><ul>
<li>call()方法调用一个函数, 其具有一个指定的this值和分别地提供的参数(参数的列表)。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.call(thisArg, arg1, arg2, ...)</span><br></pre></td></tr></table></figure>
<ul>
<li>apply()方法调用一个函数, 其具有一个指定的this值，以及作为一个数组（或类似数组的对象）提供的参数。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.apply(thisArg[, argsArray])</span><br></pre></td></tr></table></figure>
<ul>
<li>bind()方法创建一个新的函数, 当被调用时，将其this关键字设置为提供的值，在调用新函数时，在任何提供之前提供一个给定的参数序列。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func.bind(thisArg[, arg1[, arg2[, ...]]])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>call()和apply()用法相同，都是调用函数，唯一的不同是call()方法从第二个参数开始一个一个的提供参数，而apply()方法的第二个参数是一个数组，数组内存放需要提供的参数。</p>
</li>
<li><p>bind()方法用于创建函数，bind()方法的第一个参数就是要绑定的函数，当调用 <code>func</code> 时，this就会指向 <code>thisArg</code> 。</p>
</li>
</ul>
<h3 id="6-请说出至少-8-个-HTTP-状态码，并描述各状态码的意义。"><a href="#6-请说出至少-8-个-HTTP-状态码，并描述各状态码的意义。" class="headerlink" title="6.请说出至少 8 个 HTTP 状态码，并描述各状态码的意义。"></a>6.请说出至少 8 个 HTTP 状态码，并描述各状态码的意义。</h3><p>状态码2xx代表请求成功</p>
<ul>
<li><p>200表示请求成功，服务器会返回数据</p>
</li>
<li><p>204表示请求成功，但没有返回内容</p>
</li>
</ul>
<p>状态码3xx代表重定向，需要进一步的操作才能完成请求</p>
<ul>
<li><p>301表示永久重定向，意味着资源已经搬移到其他地方</p>
</li>
<li><p>302表示临时重定向，意味着资源临时搬移到其他地方</p>
</li>
</ul>
<p>状态码4xx表示客户端错误</p>
<ul>
<li><p>403表示请求访问服务器资源但是被拒绝</p>
</li>
<li><p>404表示服务器找不到请求的资源（很常见的请求错误）</p>
</li>
</ul>
<p>状态码5xx表示服务器错误</p>
<ul>
<li><p>500表示服务器执行请求时出错</p>
</li>
<li><p>503表示服务器超负载或正停机维护，无法处理请求</p>
</li>
</ul>
<h3 id="7-请写出一个-HTTP-post-请求的内容，包括四部分。"><a href="#7-请写出一个-HTTP-post-请求的内容，包括四部分。" class="headerlink" title="7.请写出一个 HTTP post 请求的内容，包括四部分。"></a>7.请写出一个 HTTP post 请求的内容，包括四部分。</h3><p>其中
第四部分的内容是 username=ff&amp;password=123
第二部分必须含有 Content-Type 字段
请求的路径为 /path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; POST /path HTTP/1.1</span><br><span class="line">&gt; Host: www.baidu.com</span><br><span class="line">&gt; User-Agent: curl/7.52.1</span><br><span class="line">&gt; Accept: */*</span><br><span class="line">&gt; Content-Length: 23</span><br><span class="line">&gt; Content-Type: application/x-www-form-urlencoded</span><br><span class="line">&gt; </span><br><span class="line">* upload completely sent off: 23 out of 23 bytes</span><br><span class="line">&gt; usrname=ff&amp;password=123</span><br></pre></td></tr></table></figure>
<h3 id="8-请说出至少三种排序的思路，这三种排序的时间复杂度分别为"><a href="#8-请说出至少三种排序的思路，这三种排序的时间复杂度分别为" class="headerlink" title="8.请说出至少三种排序的思路，这三种排序的时间复杂度分别为"></a>8.请说出至少三种排序的思路，这三种排序的时间复杂度分别为</h3><ol>
<li>O(n*n)</li>
<li>O(n log2 n)</li>
<li><p>O(n + max)</p>
</li>
<li><p>冒泡排序
相邻元素两两比较，较小的放在前面，较大的放在后面，如果两个元素相等，不改变位置。</p>
</li>
<li><p>快速排序
设定基准点，将小于基准点的值放在左侧，大于基准点的值放在右侧，然后以此循环给小于基准点和大于基准点的数列排序。</p>
</li>
<li><p>计数排序
现有需要排序的数组A，首先新建一个长度为（A中的最大值-A中的最小值+1）的数组B，把数组A中的值减去（A中的最小值）得到此数在数组B中的下标，并置于数组B内，最后将数组B内的元素依次取出放入数组C就得到排序好的数组。</p>
</li>
</ol>
<h3 id="9-一个页面从输入-URL-到页面加载显示完成，这个过程中都发生了什么？"><a href="#9-一个页面从输入-URL-到页面加载显示完成，这个过程中都发生了什么？" class="headerlink" title="9.一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？"></a>9.一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？</h3><ol>
<li>DNS解析：通过输入的URL查询网站的IP地址</li>
<li>TCP链接：通过三次握手与DNS解析查询到的IP地址建立起TCP连接</li>
<li>HTTP请求：构建HTTP请求，请求中包含请求行（动词 路径 协议/版本号）、请求报头（Accept、Content-Type、Cookie等内容）、请求正文（使用POST、PUT、PEACH等方法所需要的数据）</li>
<li>服务器处理请求并返回数据：响应包括状态码（200\304\404等）、响应报头（Accept、Content-Type、Server等内容）、响应正文（返回的资源）</li>
<li>浏览器渲染解析页面：HTML解析出DOM树，CSS解析出CSS规则树，然后浏览器根据DOM树和CSS规则树计算每个元素的位置和样式，最后浏览器将每个元素绘制在屏幕上</li>
</ol>
<h3 id="10-如何实现数组去重？"><a href="#10-如何实现数组去重？" class="headerlink" title="10.如何实现数组去重？"></a>10.如何实现数组去重？</h3><p>假设有数组 array = [1,5,2,3,4,2,3,1,3,4]
你要写一个函数 unique，使得
unique(array) 的值为 [1,5,2,3,4]</p>
<p>ES 6方法一：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var array = [1,5,2,3,4,2,3,1,3,4]</span><br><span class="line"></span><br><span class="line">function unique()&#123;</span><br><span class="line">  const mySet = new Set(array)</span><br><span class="line">  return mySet</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(unique()) //Set(5) &#123;1, 5, 2, 3, 4&#125;</span><br></pre></td></tr></table></figure>
<p>ES 6方法二：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var array = [1,5,2,3,4,2,3,1,3,4]</span><br><span class="line"></span><br><span class="line">function unique(a)&#123;</span><br><span class="line">  var result = []</span><br><span class="line">  a.forEach(function(e)&#123;</span><br><span class="line">    if(!result.includes(e))&#123;</span><br><span class="line">      result.push(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;</span><br><span class="line">console.log( unique(array) ) //(5) [1, 5, 2, 3, 4]</span><br></pre></td></tr></table></figure>
<p>ES 5方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var array = [1,5,2,3,4,2,3,1,3,4]</span><br><span class="line"></span><br><span class="line">function unique(a)&#123;</span><br><span class="line">  var result = a.filter(function(value, index, array)&#123;</span><br><span class="line">    return array.indexOf(value) === index</span><br><span class="line">  &#125;)</span><br><span class="line">  return result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log( unique(array) ) //(5) [1, 5, 2, 3, 4]</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/06/对于闭包的理解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/06/对于闭包的理解/" itemprop="url">对于闭包的理解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-06T21:35:42+08:00">
                2018-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>闭包是由函数和与其相关的引用环境组合而成的实体（<a href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener">wikipedia-闭包</a>)）</p>
</blockquote>
<p>闭包由两部分组成：一是函数，二是与这个函数相关的引用环境，即函数及函数内部能访问到的变量组成了一个闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">    showName()</span><br><span class="line">&#125;)() //小明</span><br></pre></td></tr></table></figure>
<p>函数fn是一个立即执行函数，变量 <code>name</code> 和函数 <code>showName()</code> 就组成了一个闭包，这里变量 <code>name</code> 所在的上下文就是上文所说的引用环境。
对上面的立即执行函数做一点改动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    var name=&quot;小明&quot;</span><br><span class="line">    return function showName()&#123;</span><br><span class="line">        console.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var yourName = fn()</span><br><span class="line">yourName()</span><br></pre></td></tr></table></figure>
<p>代码改动后，我们不在函数fn内部调用函数showName()，而是将showName()函数作为fn函数的返回值返回出来，同时，我们在函数外定义了一个变量yourName来引用函数fn()，因此yourName执行时就相当于fn()被调用，而showName()函数一样需要调用其外部的变量name，因此函数showName()和变量name就组成了一个闭包。</p>
<ul>
<li>闭包的作用
闭包可以间接的访问一个变量，也就是可以使一个函数访问到另一个函数内部的变量。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/06/JavaScript练习题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/06/JavaScript练习题/" itemprop="url">JavaScript练习题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-06T16:18:11+08:00">
                2018-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>写一个函数，返回从min到max之间的 随机整数，包括min不包括max </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function random(min,max)&#123;</span><br><span class="line">    var val = min + (Math.floor(Math.random() * (max-min)))</span><br><span class="line">    return val</span><br><span class="line">&#125;</span><br><span class="line">var result = random(3,10)</span><br><span class="line">console.log(result)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，生成一个长度为 n 的随机字符串，字符串字符的取值范围包括0到9，a到 z，A到Z</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getRandStr(len)&#123;</span><br><span class="line">    var result = &apos;&apos;</span><br><span class="line">    var dict = &apos;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&apos;</span><br><span class="line">    for(var i=0; i&lt;len; i++)&#123;</span><br><span class="line">    var index = Math.floor(Math.random() * dict.length)</span><br><span class="line">    result += dict[index]</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br><span class="line">var str = getRandStr(10); // 0a3iJiRZap</span><br><span class="line">console.log(str)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，生成一个随机 IP 地址，一个合法的 IP 地址为 0.0.0.0~255.255.255.255</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function getRandIP()&#123;</span><br><span class="line">  var randomIP = []</span><br><span class="line">  for(var i = 0; i &lt; 4; i++)&#123;</span><br><span class="line">    var eachIP = Math.floor(Math.random() * 256)</span><br><span class="line">    randomIP.push(eachIP)</span><br><span class="line">  &#125;</span><br><span class="line">  return randomIP.join(&apos;.&apos;)</span><br><span class="line">&#125;</span><br><span class="line">var ip = getRandIP()</span><br><span class="line">console.log(ip) // 10.234.121.45</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，生成一个随机颜色字符串，合法的颜色为#000000~ #ffffff</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getRandColor()&#123;</span><br><span class="line">  var rgbColor = &apos;#&apos;</span><br><span class="line">  var dict = &apos;0123456789abcdef&apos; </span><br><span class="line">  for(var i = 0; i&lt;6; i++)&#123;</span><br><span class="line">    var index = Math.floor(Math.random() * 16)</span><br><span class="line">    rgbColor += dict[index]</span><br><span class="line">  &#125;</span><br><span class="line">  return rgbColor</span><br><span class="line">&#125;</span><br><span class="line">var color = getRandColor()</span><br><span class="line">console.log(color)   // #3e2f1b</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现一个flatten函数，将一个嵌套多层的数组 array（数组） (嵌套可以是任何层数)转换为只有一层的数组，数组中元素仅基本类型的元素或数组，不存在循环引用的情况</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">//写法一</span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">  var arr2 = []</span><br><span class="line">  for(var i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">    if(Array.isArray(arr[i]))&#123;</span><br><span class="line">      arr2 = arr2.concat(flatten(arr[i]))</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      arr2.push(arr[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [1, 2, 6, [&apos;hello&apos;, 9, [&apos;yyy&apos;, [&apos;wasd&apos;, 789, 123]], 7], [&apos;uiuiui&apos;, 5, 6], &apos;qwer&apos;]</span><br><span class="line">var flat = flatten(arr)</span><br><span class="line">console.log(flat)</span><br><span class="line"></span><br><span class="line">//写法二</span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">  var arr2 = []</span><br><span class="line">  arr.forEach(function(val)&#123;</span><br><span class="line">    if(Array.isArray(val))&#123;</span><br><span class="line">      arr2 = arr2.concat(flatten(val))</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      arr2.push(val)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [1, 2, 6, [&apos;hello&apos;, 9, [&apos;yyy&apos;, [&apos;wasd&apos;, 789, 123]], 7], [&apos;uiuiui&apos;, 5, 6], &apos;qwer&apos;]</span><br><span class="line">var flat = flatten(arr)</span><br><span class="line">console.log(flat)</span><br><span class="line"></span><br><span class="line">//写法三</span><br><span class="line">function flatten(arr)&#123;</span><br><span class="line">  return arr.reduce(function(initArr,currentArr)&#123;</span><br><span class="line">    return initArr.concat(Array.isArray(currentArr)?flatten(currentArr):currentArr)</span><br><span class="line">  &#125;,[])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var arr = [1, 2, 6, [&apos;hello&apos;, 9, [&apos;yyy&apos;, [&apos;wasd&apos;, 789, 123]], 7], [&apos;uiuiui&apos;, 5, 6], &apos;qwer&apos;]</span><br><span class="line">var flat = flatten(arr)</span><br><span class="line">console.log(flat)</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现一个reduce函数，作用和原生的reduce类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//写法一</span><br><span class="line">function reduce(arr, fn, init)&#123;</span><br><span class="line">  var arr2 = arr.concat([])</span><br><span class="line">  if(init !== undefined)&#123;</span><br><span class="line">    arr2.unshift(init)</span><br><span class="line">  &#125;</span><br><span class="line">  while(arr2.length &gt; 1)&#123;</span><br><span class="line">    arr2.splice(0, 2, fn(arr2[0], arr2[1]))</span><br><span class="line">  &#125;</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var sum = reduce([1, 2, 3], function(memo, num)&#123; return memo + num; &#125;, 0);</span><br><span class="line">console.log(sum)</span><br><span class="line">//写法二</span><br><span class="line">function reduce(arr, fn, init)&#123;</span><br><span class="line">  var arr2 = (init !== undefined?[]:[init]).concat(arr)</span><br><span class="line">  while(arr2.length &gt; 1)&#123;</span><br><span class="line">    arr2.splice(0, 2, fn(arr2[0], arr2[1]))</span><br><span class="line">  &#125;</span><br><span class="line">  return arr2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var sum = reduce([1, 2, 3], function(memo, num)&#123; return memo + num; &#125;, 0);</span><br><span class="line">console.log(sum)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数getChIntv，获取从当前时间到指定日期的间隔时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getChIntv(initDate)&#123;</span><br><span class="line">  var time = Date.now() - Date.parse(initDate)</span><br><span class="line">  return time</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var str = getChIntv(&quot;2017-02-08 10:30:24&quot;);</span><br><span class="line">console.log(str);</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，参数为时间对象毫秒数的字符串格式，返回值为字符串。假设参数为时间对象毫秒数t，根据t的时间分别返回如下字符串:</p>
</li>
</ol>
<ul>
<li>刚刚（ t 距当前时间不到1分钟时间间隔）</li>
<li>3分钟前 (t距当前时间大于等于1分钟，小于1小时)</li>
<li>8小时前 (t 距离当前时间大于等于1小时，小于24小时)</li>
<li>3天前 (t 距离当前时间大于等于24小时，小于30天)</li>
<li>2个月前 (t 距离当前时间大于等于30天小于12个月)</li>
<li>8年前 (t 距离当前时间大于等于12个月)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function friendlyDate(time)&#123;</span><br><span class="line">  var timeNum = parseInt(time)</span><br><span class="line">  var millieSecond = Date.now() - timeNum</span><br><span class="line">  console.log(millieSecond)</span><br><span class="line">  switch(true)&#123;</span><br><span class="line">    case millieSecond &lt; 60*1000 :</span><br><span class="line">      time = &apos;刚刚&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 60*1000 &lt;= millieSecond &amp;&amp; millieSecond &lt; 60*60*1000 :</span><br><span class="line">      time = &apos;3分钟前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 60*60*1000 &lt;= millieSecond &amp;&amp; millieSecond &lt; 24*60*60*1000 :</span><br><span class="line">      time = &apos;8小时前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 24*60*60*1000 &lt;= millieSecond &amp;&amp; millieSecond &lt; 24*60*60*1000*30 :</span><br><span class="line">      time = &apos;3天前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 24*60*60*1000*30 &lt;= millieSecond &amp;&amp; millieSecond &lt; 24*60*60*1000*30*12 :</span><br><span class="line">      time = &apos;2个月前&apos;</span><br><span class="line">      break;</span><br><span class="line">    case 24*60*60*1000*30*12 &lt;= millieSecond :</span><br><span class="line">      time = &apos;8年前&apos;</span><br><span class="line">      break;</span><br><span class="line">  &#125;</span><br><span class="line">  return time</span><br><span class="line">&#125;</span><br><span class="line">var str = friendlyDate( &apos;1484286699422&apos; ) //  2个月前</span><br><span class="line">var str2 = friendlyDate(&apos;1483941245793&apos;) // 8年前</span><br></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/05/DOM事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天学习了吗">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/05/DOM事件/" itemprop="url">DOM事件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-05T21:41:13+08:00">
                2018-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">wky</p>
              <p class="site-description motion-element" itemprop="description">Talk is cheap.Show me the code.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">Artikel</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">Tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wky</span>

  
</div>


  <div class="powered-by">Erstellt mit  <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
